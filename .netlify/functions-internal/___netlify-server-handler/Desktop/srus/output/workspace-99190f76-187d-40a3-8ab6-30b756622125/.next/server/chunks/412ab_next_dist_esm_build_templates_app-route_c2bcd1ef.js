module.exports=[79048,e=>{"use strict";let t;var r=e.i(26502),n=e.i(51545),a=e.i(31546),s=e.i(89068),i=e.i(39181),o=e.i(64989),c=e.i(31155),l=e.i(39070),u=e.i(25804),d=e.i(64810),f=e.i(88070),p=e.i(59569),m=e.i(24126),h=e.i(17767),b=e.i(99650),y=e.i(93695);e.i(35355);var g=e.i(90759),w=e.i(69658),v=e.i(51264);let x=256;function E(e=11){if(!t||x+e>512){t="",x=0;for(let e=0;e<256;e++)t+=(256+256*Math.random()|0).toString(16).substring(1)}return t.substring(x,x+++e)}var P=e.i(85984),I=e.i(53765),A=e.i(74652),B=e.i(92380),k=e.i(485),$=e.i(84897),T=e.i(57917),R=e.i(96861),N=e.i(32047);function F(e,t){if(!(e instanceof R.BaseError))return!1;let r=e.walk(e=>e instanceof N.ContractFunctionRevertedError);return r instanceof N.ContractFunctionRevertedError&&(!!(r.data?.errorName==="ResolverNotFound"||r.data?.errorName==="ResolverWildcardNotSupported"||r.data?.errorName==="ResolverNotContract"||r.data?.errorName==="ResolverError"||r.data?.errorName==="HttpError"||r.reason?.includes("Wildcard on non-extended resolvers is not supported"))||"reverse"===t&&r.reason===T.panicReasons[50])}var C=e.i(83732),H=e.i(36541),O=e.i(29261),S=e.i(2623);function M(e){if(66!==e.length||0!==e.indexOf("[")||65!==e.indexOf("]"))return null;let t=`0x${e.slice(1,65)}`;return(0,S.isHex)(t)?t:null}function j(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,$.bytesToHex)(t);let r=e.split(".");for(let e=r.length-1;e>=0;e-=1){let n=M(r[e]),a=n?(0,H.toBytes)(n):(0,O.keccak256)((0,H.stringToBytes)(r[e]),"bytes");t=(0,O.keccak256)((0,C.concat)([t,a]),"bytes")}return(0,$.bytesToHex)(t)}function z(e){let t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);let r=new Uint8Array((0,H.stringToBytes)(t).byteLength+2),n=0,a=t.split(".");for(let e=0;e<a.length;e++){var s;let t=(0,H.stringToBytes)(a[e]);t.byteLength>255&&(t=(0,H.stringToBytes)((s=function(e){let t=new Uint8Array(32).fill(0);return e?M(e)||(0,O.keccak256)((0,H.stringToBytes)(e)):(0,$.bytesToHex)(t)}(a[e]),`[${s.slice(2)}]`))),r[n]=t.length,r.set(t,n+1),n+=t.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}function U(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let a=e[r];return"function"==typeof a?a:r=>t(e,r)}var D=e.i(66220),G=e.i(41286),q=R;class _ extends q.BaseError{constructor(e,{code:t,docsPath:r,metaMessages:n,name:a,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof G.RpcRequestError?e.code:t??-1}}class L extends _{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class V extends _{constructor(e){super(e,{code:V.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(V,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Z extends _{constructor(e){super(e,{code:Z.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Z,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class W extends _{constructor(e,{method:t}={}){super(e,{code:W.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(W,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class K extends _{constructor(e){super(e,{code:K.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(K,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class J extends _{constructor(e){super(e,{code:J.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(J,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class X extends _{constructor(e){super(e,{code:X.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(X,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Q extends _{constructor(e){super(e,{code:Q.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Q,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Y extends _{constructor(e){super(e,{code:Y.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ee extends _{constructor(e){super(e,{code:ee.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class et extends _{constructor(e,{method:t}={}){super(e,{code:et.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class er extends _{constructor(e){super(e,{code:er.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(er,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class en extends _{constructor(e){super(e,{code:en.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ea extends L{constructor(e){super(e,{code:ea.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ea,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class es extends L{constructor(e){super(e,{code:es.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(es,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ei extends L{constructor(e,{method:t}={}){super(e,{code:ei.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(ei,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class eo extends L{constructor(e){super(e,{code:eo.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(eo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ec extends L{constructor(e){super(e,{code:ec.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ec,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class el extends L{constructor(e){super(e,{code:el.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(el,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class eu extends _{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function ed(e,{abi:t,address:r,args:n,docsPath:a,functionName:s,sender:i}){let o=e instanceof N.RawContractError?e:e instanceof R.BaseError?e.walk(e=>"data"in e)||e.walk():{},{code:c,data:l,details:u,message:d,shortMessage:f}=o,p=e instanceof D.AbiDecodingZeroDataError?new N.ContractFunctionZeroDataError({functionName:s}):[3,J.code].includes(c)&&(l||u||d||f)?new N.ContractFunctionRevertedError({abi:t,data:"object"==typeof l?l.data:l,functionName:s,message:o instanceof G.RpcRequestError?u:f??d}):e;return new N.ContractFunctionExecutionError(p,{abi:t,args:n,contractAddress:r,docsPath:a,functionName:s,sender:i})}var ef=e.i(48511);async function ep(e,t){let{abi:r,address:n,args:a,functionName:s,...i}=t,o=(0,A.encodeFunctionData)({abi:r,args:a,functionName:s});try{let{data:t}=await U(e,ef.call,"call")({...i,data:o,to:n});return(0,I.decodeFunctionResult)({abi:r,args:a,functionName:s,data:t||"0x"})}catch(e){throw ed(e,{abi:r,address:n,args:a,docsPath:"/docs/contract/readContract",functionName:s})}}async function em(e,{blockNumber:t,blockTag:r,coinType:n,name:a,gatewayUrls:s,strict:i,universalResolverAddress:o}){let c=o;if(!c){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");c=(0,B.getChainContractAddress)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{let i=(0,A.encodeFunctionData)({abi:P.addressResolverAbi,functionName:"addr",...null!=n?{args:[j(a),BigInt(n)]}:{args:[j(a)]}}),o={address:c,abi:P.universalResolverResolveAbi,functionName:"resolve",args:[(0,$.toHex)(z(a)),i],blockNumber:t,blockTag:r},l=U(e,ep,"readContract"),u=s?await l({...o,args:[...o.args,s]}):await l(o);if("0x"===u[0])return null;let d=(0,I.decodeFunctionResult)({abi:P.addressResolverAbi,args:null!=n?[j(a),BigInt(n)]:void 0,functionName:"addr",data:u[0]});if("0x"===d||"0x00"===(0,k.trim)(d))return null;return d}catch(e){if(i)throw e;if(F(e,"resolve"))return null;throw e}}var eh=R;class eb extends eh.BaseError{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class ey extends eh.BaseError{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class eg extends eh.BaseError{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class ew extends eh.BaseError{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}let ev=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ex=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,eE=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,eP=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function eI(e){try{let t=await fetch(e,{method:"HEAD"});if(200===t.status){let e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){if("object"==typeof t&&void 0!==t.response||!globalThis.hasOwnProperty("Image"))return!1;return new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e})}}function eA(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function eB({uri:e,gatewayUrls:t}){let r=eE.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let n=eA(t?.ipfs,"https://ipfs.io"),a=eA(t?.arweave,"https://arweave.net"),s=e.match(ev),{protocol:i,subpath:o,target:c,subtarget:l=""}=s?.groups||{},u="ipns:/"===i||"ipns/"===o,d="ipfs:/"===i||"ipfs/"===o||ex.test(e);if(e.startsWith("http")&&!u&&!d){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${n}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if("ar:/"===i&&c)return{uri:`${a}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(eP,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new eg({uri:e})}function ek(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new eb({data:e});return e.image||e.image_url||e.image_data}async function e$({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(e=>e.json());return await eT({gatewayUrls:e,uri:ek(r)})}catch{throw new eg({uri:t})}}async function eT({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:n}=eB({uri:t,gatewayUrls:e});if(n||await eI(r))return r;throw new eg({uri:t})}async function eR(e,{nft:t}){if("erc721"===t.namespace)return ep(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return ep(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new ew({namespace:t.namespace})}async function eN(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?eF(e,{gatewayUrls:t,record:r}):eT({uri:r,gatewayUrls:t})}async function eF(e,{gatewayUrls:t,record:r}){let n=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,n,a]=t.split("/"),[s,i]=r.split(":"),[o,c]=n.split(":");if(!s||"eip155"!==s.toLowerCase())throw new ey({reason:"Only EIP-155 supported"});if(!i)throw new ey({reason:"Chain ID not found"});if(!c)throw new ey({reason:"Contract address not found"});if(!a)throw new ey({reason:"Token ID not found"});if(!o)throw new ey({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:o.toLowerCase(),contractAddress:c,tokenID:a}}(r),{uri:a,isOnChain:s,isEncoded:i}=eB({uri:await eR(e,{nft:n}),gatewayUrls:t});if(s&&(a.includes("data:application/json;base64,")||a.startsWith("{")))return eT({uri:ek(JSON.parse(i?atob(a.replace("data:application/json;base64,","")):a)),gatewayUrls:t});let o=n.tokenID;return"erc1155"===n.namespace&&(o=o.replace("0x","").padStart(64,"0")),e$({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,o)})}async function eC(e,{blockNumber:t,blockTag:r,name:n,key:a,gatewayUrls:s,strict:i,universalResolverAddress:o}){let c=o;if(!c){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");c=(0,B.getChainContractAddress)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{let i={address:c,abi:P.universalResolverResolveAbi,functionName:"resolve",args:[(0,$.toHex)(z(n)),(0,A.encodeFunctionData)({abi:P.textResolverAbi,functionName:"text",args:[j(n),a]})],blockNumber:t,blockTag:r},o=U(e,ep,"readContract"),l=s?await o({...i,args:[...i.args,s]}):await o(i);if("0x"===l[0])return null;let u=(0,I.decodeFunctionResult)({abi:P.textResolverAbi,functionName:"text",data:l[0]});return""===u?null:u}catch(e){if(i)throw e;if(F(e,"resolve"))return null;throw e}}async function eH(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:a,gatewayUrls:s,strict:i,universalResolverAddress:o}){let c=await U(e,eC,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:a,universalResolverAddress:o,gatewayUrls:s,strict:i});if(!c)return null;try{return await eN(e,{record:c,gatewayUrls:n})}catch{return null}}async function eO(e,{address:t,blockNumber:r,blockTag:n,gatewayUrls:a,strict:s,universalResolverAddress:i}){let o=i;if(!o){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");o=(0,B.getChainContractAddress)({blockNumber:r,chain:e.chain,contract:"ensUniversalResolver"})}let c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{let s={address:o,abi:P.universalResolverReverseAbi,functionName:"reverse",args:[(0,$.toHex)(z(c))],blockNumber:r,blockTag:n},i=U(e,ep,"readContract"),[l,u]=a?await i({...s,args:[...s.args,a]}):await i(s);if(t.toLowerCase()!==u.toLowerCase())return null;return l}catch(e){if(s)throw e;if(F(e,"reverse"))return null;throw e}}async function eS(e,{blockNumber:t,blockTag:r,name:n,universalResolverAddress:a}){let s=a;if(!s){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");s=(0,B.getChainContractAddress)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}let[i]=await U(e,ep,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,$.toHex)(z(n))],blockNumber:t,blockTag:r});return i}var eM=e.i(54199),ej=e.i(29585),ez=e.i(89584),eU=e.i(70297);async function eD(e,t){let{account:r=e.account,blockNumber:n,blockTag:a="latest",blobs:s,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:p,...m}=t,h=r?(0,v.parseAccount)(r):void 0;try{(0,eU.assertRequest)(t);let r=n?(0,$.numberToHex)(n):void 0,b=e.chain?.formatters?.transactionRequest?.format,y=(b||ez.formatTransactionRequest)({...(0,ej.extract)(m,{format:b}),from:h?.address,blobs:s,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:p}),g=await e.request({method:"eth_createAccessList",params:[y,r||a]});return{accessList:g.accessList,gasUsed:BigInt(g.gasUsed)}}catch(r){throw(0,eM.getCallError)(r,{...t,account:h,chain:e.chain})}}function eG(e,{method:t}){let r={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:n,status:a,transport:s})=>{"success"===a&&t===e&&(r[n]=s.request)}),t=>r[t]||e.request}async function eq(e){let t=eG(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}var e_=R;class eL extends e_.BaseError{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var eV=e.i(34337),eZ=e.i(66359),eW=e.i(56697),eK=e.i(84334);let eJ="/docs/contract/encodeEventTopics";function eX(e){let{abi:t,eventName:r,args:n}=e,a=t[0];if(r){let e=(0,eK.getAbiItem)({abi:t,name:r});if(!e)throw new D.AbiEventNotFoundError(r,{docsPath:eJ});a=e}if("event"!==a.type)throw new D.AbiEventNotFoundError(void 0,{docsPath:eJ});let s=(0,eW.formatAbiItem)(a),i=(0,eV.toEventSelector)(s),o=[];if(n&&"inputs"in a){let e=a.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map(e=>n[e.name])??[]:[];t.length>0&&(o=e?.map((e,r)=>Array.isArray(t[r])?t[r].map((n,a)=>eQ({param:e,value:t[r][a]})):void 0!==t[r]&&null!==t[r]?eQ({param:e,value:t[r]}):null)??[])}return[i,...o]}function eQ({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,O.keccak256)((0,H.toBytes)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new eL(e.type);return(0,eZ.encodeAbiParameters)([e],[t])}async function eY(e,t){let{address:r,abi:n,args:a,eventName:s,fromBlock:i,strict:o,toBlock:c}=t,l=eG(e,{method:"eth_newFilter"}),u=s?eX({abi:n,args:a,eventName:s}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"==typeof i?(0,$.numberToHex)(i):i,toBlock:"bigint"==typeof c?(0,$.numberToHex)(c):c,topics:u}]});return{abi:n,args:a,eventName:s,id:d,request:l(d),strict:!!o,type:"event"}}async function e0(e,{address:t,args:r,event:n,events:a,fromBlock:s,strict:i,toBlock:o}={}){let c=a??(n?[n]:void 0),l=eG(e,{method:"eth_newFilter"}),u=[];c&&(u=[c.flatMap(e=>eX({abi:[e],eventName:e.name,args:r}))],n&&(u=u[0]));let d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof s?(0,$.numberToHex)(s):s,toBlock:"bigint"==typeof o?(0,$.numberToHex)(o):o,...u.length?{topics:u}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:s,id:d,request:l(d),strict:!!i,toBlock:o,type:"event"}}async function e1(e){let t=eG(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}var e2=e.i(54897),e5=e.i(32653);async function e6({hash:t,signature:r}){let n=(0,S.isHex)(t)?t:(0,$.toHex)(t),{secp256k1:a}=await e.A(74438),s=(()=>{if("object"==typeof r&&"r"in r&&"s"in r){let{r:e,s:t,v:n,yParity:s}=r,i=e4(Number(s??n));return new a.Signature((0,e5.hexToBigInt)(e),(0,e5.hexToBigInt)(t)).addRecoveryBit(i)}let e=(0,S.isHex)(r)?r:(0,$.toHex)(r),t=e4((0,e5.hexToNumber)(`0x${e.slice(130)}`));return a.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(t)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${s}`}function e4(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function e3({hash:e,signature:t}){var r;let n;return r=await e6({hash:e,signature:t}),n=(0,O.keccak256)(`0x${r.substring(4)}`).substring(26),(0,e2.checksumAddress)(`0x${n}`)}var e8=e.i(73781);function e9(e,t="hex"){let r=function e(t){var r,n;let a,s,i,o;return Array.isArray(t)?(s=e7(a=(r=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:a<=55?1+a:1+s+a,encode(e){for(let{encode:t}of(a<=55?e.pushByte(192+a):(e.pushByte(247+s),1===s?e.pushUint8(a):2===s?e.pushUint16(a):3===s?e.pushUint24(a):e.pushUint32(a)),r))t(e)}}):(o=e7((i="string"==typeof(n=t)?(0,H.hexToBytes)(n):n).length),{length:1===i.length&&i[0]<128?1:i.length<=55?1+i.length:1+o+i.length,encode(e){1===i.length&&i[0]<128||(i.length<=55?e.pushByte(128+i.length):(e.pushByte(183+o),1===o?e.pushUint8(i.length):2===o?e.pushUint16(i.length):3===o?e.pushUint24(i.length):e.pushUint32(i.length))),e.pushBytes(i)}})}(e),n=(0,e8.createCursor)(new Uint8Array(r.length));return(r.encode(n),"hex"===t)?(0,$.bytesToHex)(n.bytes):n.bytes}function e7(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new R.BaseError("Length is too large.")}async function te(e){let{authorization:t,signature:r}=e;return e3({hash:function(e){let{chainId:t,contractAddress:r,nonce:n,to:a}=e,s=(0,O.keccak256)((0,C.concatHex)(["0x05",e9([t?(0,$.numberToHex)(t):"0x",r,n?(0,$.numberToHex)(n):"0x"])]));return"bytes"===a?(0,H.hexToBytes)(s):s}(t),signature:r??t})}var tt=e.i(967),tr=e.i(1907),tn=R,ta=e.i(71593);class ts extends tn.BaseError{constructor(e,{account:t,docsPath:r,chain:n,data:a,gas:s,gasPrice:i,maxFeePerGas:o,maxPriorityFeePerGas:c,nonce:l,to:u,value:d}){const f=(0,ta.prettyPrint)({from:t?.address,to:u,value:void 0!==d&&`${(0,tt.formatEther)(d)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:s,gasPrice:void 0!==i&&`${(0,tr.formatGwei)(i)} gwei`,maxFeePerGas:void 0!==o&&`${(0,tr.formatGwei)(o)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,tr.formatGwei)(c)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var ti=e.i(51654),to=e.i(76712),tc=e.i(33545),tl=R;class tu extends tl.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class td extends tl.BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class tf extends tl.BaseError{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,tr.formatGwei)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}var tp=R;class tm extends tp.BaseError{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}var th=e.i(85547);let tb={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ty(e){let t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,e5.hexToNumber)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,e5.hexToNumber)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?tb[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>({contractAddress:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return+(t.v%2n===0n)}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}let tg=(0,th.defineFormatter)("transaction",ty);function tw(e){let t=(e.transactions??[]).map(e=>"string"==typeof e?e:ty(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}let tv=(0,th.defineFormatter)("block",tw);async function tx(e,{blockHash:t,blockNumber:r,blockTag:n,includeTransactions:a}={}){let s=a??!1,i=void 0!==r?(0,$.numberToHex)(r):void 0,o=null;if(!(o=t?await e.request({method:"eth_getBlockByHash",params:[t,s]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[i||(n??"latest"),s]},{dedupe:!!i})))throw new tm({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||tw)(o)}async function tE(e){return BigInt(await e.request({method:"eth_gasPrice"}))}async function tP(e,t){return tI(e,t)}async function tI(e,t){let{block:r,chain:n=e.chain,request:a}=t||{};try{let t=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if("function"==typeof t){let n=r||await U(e,tx,"getBlock")({}),s=await t({block:n,client:e,request:a});if(null===s)throw Error();return s}if(void 0!==t)return t;let s=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,e5.hexToBigInt)(s)}catch{let[t,n]=await Promise.all([r?Promise.resolve(r):U(e,tx,"getBlock")({}),U(e,tE,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new td;let a=n-t.baseFeePerGas;if(a<0n)return 0n;return a}}async function tA(e,t){return tB(e,t)}async function tB(e,t){let{block:r,chain:n=e.chain,request:a,type:s="eip1559"}=t||{},i=await (async()=>"function"==typeof n?.fees?.baseFeeMultiplier?n.fees.baseFeeMultiplier({block:r,client:e,request:a}):n?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new tu;let o=i.toString().split(".")[1]?.length??0,c=10**o,l=e=>e*BigInt(Math.ceil(i*c))/BigInt(c),u=r||await U(e,tx,"getBlock")({});if("function"==typeof n?.fees?.estimateFeesPerGas){let t=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:l,request:a,type:s});if(null!==t)return t}if("eip1559"===s){if("bigint"!=typeof u.baseFeePerGas)throw new td;let t="bigint"==typeof a?.maxPriorityFeePerGas?a.maxPriorityFeePerGas:await tI(e,{block:u,chain:n,request:a}),r=l(u.baseFeePerGas);return{maxFeePerGas:a?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:a?.gasPrice??l(await U(e,tE,"getGasPrice")({}))}}async function tk(e,{address:t,blockTag:r="latest",blockNumber:n}){let a=await e.request({method:"eth_getTransactionCount",params:[t,n?(0,$.numberToHex)(n):r]},{dedupe:!!n});return(0,e5.hexToNumber)(a)}function t$(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,H.hexToBytes)(e)):e.blobs,a=[];for(let e of n)a.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?a:a.map(e=>(0,$.bytesToHex)(e))}function tT(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,H.hexToBytes)(e)):e.blobs,a="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,H.hexToBytes)(e)):e.commitments,s=[];for(let e=0;e<n.length;e++){let r=n[e],i=a[e];s.push(Uint8Array.from(t.computeBlobKzgProof(r,i)))}return"bytes"===r?s:s.map(e=>(0,$.bytesToHex)(e))}var tR=e.i(22700);function tN(e){let{commitments:t,version:r}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),a=[];for(let e of t)a.push(function(e){let{commitment:t,version:r=1}=e,n=e.to??("string"==typeof t?"hex":"bytes"),a=(0,tR.sha256)((0,S.isHex)(t,{strict:!1})?(0,H.toBytes)(t):t);return a.set([r],0),"bytes"===n?a:(0,$.bytesToHex)(a)}({commitment:e,to:n,version:r}));return a}var tF=R;class tC extends tF.BaseError{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class tH extends tF.BaseError{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class tO extends tF.BaseError{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class tS extends tF.BaseError{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:["Expected: 1",`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}var tM=e.i(52813);function tj(e){let{data:t,kzg:r,to:n}=e,a=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?(0,H.hexToBytes)(e.data):e.data,n=(0,tM.size)(r);if(!n)throw new tH;if(n>761855)throw new tC({maxSize:761855,size:n});let a=[],s=!0,i=0;for(;s;){let e=(0,e8.createCursor)(new Uint8Array(131072)),t=0;for(;t<4096;){let n=r.slice(i,i+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),s=!1;break}t++,i+=31}a.push(e)}return"bytes"===t?a.map(e=>e.bytes):a.map(e=>(0,$.bytesToHex)(e.bytes))}({data:t,to:n}),s=e.commitments??t$({blobs:a,kzg:r,to:n}),i=e.proofs??tT({blobs:a,commitments:s,kzg:r,to:n}),o=[];for(let e=0;e<a.length;e++)o.push({blob:a[e],commitment:s[e],proof:i[e]});return o}function tz(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new ta.InvalidSerializableTransactionError({transaction:e})}async function tU(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,e5.hexToNumber)(t)}let tD=["blobVersionedHashes","chainId","fees","gas","nonce","type"],tG=new Map;async function tq(e,t){let r,n,{account:a=e.account,blobs:s,chain:i,gas:o,kzg:c,nonce:l,nonceManager:u,parameters:d=tD,type:f}=t,p=a?(0,v.parseAccount)(a):a,m={...t,...p?{from:p?.address}:{}};async function h(){return r||(r=await U(e,tx,"getBlock")({blockTag:"latest"}))}async function b(){return n||(i?i.id:void 0!==t.chainId?t.chainId:n=await U(e,tU,"getChainId")({}))}if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&s&&c){let e=t$({blobs:s,kzg:c});if(d.includes("blobVersionedHashes")&&(m.blobVersionedHashes=tN({commitments:e,to:"hex"})),d.includes("sidecars")){let t=tT({blobs:s,commitments:e,kzg:c});m.sidecars=tj({blobs:s,commitments:e,proofs:t,to:"hex"})}}if(d.includes("chainId")&&(m.chainId=await b()),(d.includes("fees")||d.includes("type"))&&void 0===f)try{m.type=tz(m)}catch{let t=tG.get(e.uid);if(void 0===t){let r=await h();t="bigint"==typeof r?.baseFeePerGas,tG.set(e.uid,t)}m.type=t?"eip1559":"legacy"}if(d.includes("fees"))if("legacy"!==m.type&&"eip2930"!==m.type){if(void 0===m.maxFeePerGas||void 0===m.maxPriorityFeePerGas){let r=await h(),{maxFeePerGas:n,maxPriorityFeePerGas:a}=await tB(e,{block:r,chain:i,request:m});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<a)throw new tf({maxPriorityFeePerGas:a});m.maxPriorityFeePerGas=a,m.maxFeePerGas=n}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new td;if(void 0===t.gasPrice){let t=await h(),{gasPrice:r}=await tB(e,{block:t,chain:i,request:m,type:"legacy"});m.gasPrice=r}}if(d.includes("gas")&&void 0===o&&(m.gas=await U(e,tL,"estimateGas")({...m,account:p?{address:p.address,type:"json-rpc"}:p})),d.includes("nonce")&&void 0===l&&p)if(u){let t=await b();m.nonce=await u.consume({address:p.address,chainId:t,client:e})}else m.nonce=await U(e,tk,"getTransactionCount")({address:p.address,blockTag:"pending"});return(0,eU.assertRequest)(m),delete m.parameters,m}async function t_(e,{address:t,blockNumber:r,blockTag:n="latest"}){let a=r?(0,$.numberToHex)(r):void 0;return BigInt(await e.request({method:"eth_getBalance",params:[t,a||n]}))}async function tL(e,t){let{account:r=e.account}=t,n=r?(0,v.parseAccount)(r):void 0;try{let{accessList:r,authorizationList:s,blobs:i,blobVersionedHashes:o,blockNumber:c,blockTag:l,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:b,value:y,stateOverride:g,...w}=await tq(e,{...t,parameters:n?.type==="local"?void 0:["blobVersionedHashes"]}),v=(c?(0,$.numberToHex)(c):void 0)||l,x=(0,tc.serializeStateOverride)(g),E=await (async()=>w.to?w.to:s&&s.length>0?await te({authorization:s[0]}).catch(()=>{throw new R.BaseError("`to` is required. Could not infer from `authorizationList`")}):void 0)();(0,eU.assertRequest)(t);let P=e.chain?.formatters?.transactionRequest?.format,I=(P||ez.formatTransactionRequest)({...(0,ej.extract)(w,{format:P}),from:n?.address,accessList:r,authorizationList:s,blobs:i,blobVersionedHashes:o,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:b,to:E,value:y});function a(t){let{block:r,request:n,rpcStateOverride:a}=t;return e.request({method:"eth_estimateGas",params:a?[n,r??"latest",a]:r?[n,r]:[n]})}let A=BigInt(await a({block:v,request:I,rpcStateOverride:x}));if(s){let t=await t_(e,{address:I.from}),r=await Promise.all(s.map(async e=>{let{contractAddress:r}=e,s=await a({block:v,request:{authorizationList:void 0,data:u,from:n?.address,to:r,value:(0,$.numberToHex)(t)},rpcStateOverride:x}).catch(()=>100000n);return 2n*BigInt(s)}));A+=r.reduce((e,t)=>e+t,0n)}return A}catch(r){throw function(e,{docsPath:t,...r}){let n;return new ts((n=(0,to.getNodeError)(e,r))instanceof ti.UnknownNodeError?e:n,{docsPath:t,...r})}(r,{...t,account:n,chain:e.chain})}}async function tV(e,t){let{abi:r,address:n,args:a,functionName:s,dataSuffix:i,...o}=t,c=(0,A.encodeFunctionData)({abi:r,args:a,functionName:s});try{return await U(e,tL,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:n,...o})}catch(t){let e=o.account?(0,v.parseAccount)(o.account):void 0;throw ed(t,{abi:r,address:n,args:a,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:e?.address})}}async function tZ(e){return BigInt(await e.request({method:"eth_blobBaseFee"}))}let tW=new Map,tK=new Map;async function tJ(e,{cacheKey:t,cacheTime:r=1/0}){let n,a,s,i=(a=(n=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}))(t,tW),{clear:()=>{a.clear(),s.clear()},promise:a,response:s=n(t,tK)}),o=i.response.get();if(o&&r>0&&new Date().getTime()-o.created.getTime()<r)return o.data;let c=i.promise.get();c||(c=e(),i.promise.set(c));try{let e=await c;return i.response.set({created:new Date,data:e}),e}finally{i.promise.clear()}}async function tX(e,{cacheTime:t=e.cacheTime}={}){let r;return BigInt(await tJ(()=>e.request({method:"eth_blockNumber"}),{cacheKey:(r=e.uid,`blockNumber.${r}`),cacheTime:t}))}async function tQ(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){let a,s=void 0!==r?(0,$.numberToHex)(r):void 0;return a=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||n]},{dedupe:!!s}),(0,e5.hexToNumber)(a)}async function tY(e,{address:t,blockNumber:r,blockTag:n="latest"}){let a=void 0!==r?(0,$.numberToHex)(r):void 0,s=await e.request({method:"eth_getCode",params:[t,a||n]},{dedupe:!!a});if("0x"!==s)return s}var t0=e.i(96212),t1=e.i(51531),t2=e.i(71796);let t5="/docs/contract/decodeEventLog";function t6(e){let{abi:t,data:r,strict:n,topics:a}=e,s=n??!0,[i,...o]=a;if(!i)throw new D.AbiEventSignatureEmptyTopicsError({docsPath:t5});let c=1===t.length?t[0]:t.find(e=>"event"===e.type&&i===(0,eV.toEventSelector)((0,eW.formatAbiItem)(e)));if(!(c&&"name"in c)||"event"!==c.type)throw new D.AbiEventSignatureNotFoundError(i,{docsPath:t5});let{name:l,inputs:u}=c,d=u?.some(e=>!("name"in e&&e.name)),f=d?[]:{},p=u.filter(e=>"indexed"in e&&e.indexed);for(let e=0;e<p.length;e++){let t=p[e],r=o[e];if(!r)throw new D.DecodeLogTopicsMismatch({abiItem:c,param:t});f[d?e:t.name||e]=function({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,t2.decodeAbiParameters)([e],t)||[])[0]}({param:t,value:r})}let m=u.filter(e=>!("indexed"in e&&e.indexed));if(m.length>0){if(r&&"0x"!==r)try{let e=(0,t2.decodeAbiParameters)(m,r);if(e)if(d)f=[...f,...e];else for(let t=0;t<m.length;t++)f[m[t].name]=e[t]}catch(e){if(s){if(e instanceof D.AbiDecodingDataSizeTooSmallError||e instanceof t1.PositionOutOfBoundsError)throw new D.DecodeLogDataMismatch({abiItem:c,data:r,params:m,size:(0,tM.size)(r)});throw e}}else if(s)throw new D.DecodeLogDataMismatch({abiItem:c,data:"0x",params:m,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function t4(e){let{abi:t,args:r,logs:n,strict:a=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return n.map(e=>{try{let n=t.find(t=>"event"===t.type&&e.topics[0]===(0,eV.toEventSelector)(t));if(!n)return null;let i=t6({...e,abi:[n],strict:a});if(s&&!s.includes(i.eventName)||!function(e){let{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function a(e,t,r){try{if("address"===e.type)return(0,t0.isAddressEqual)(t,r);if("string"===e.type||"bytes"===e.type)return(0,O.keccak256)((0,H.toBytes)(t))===r;return t===r}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every((e,n)=>{if(null==e)return!0;let s=r[n];return!!s&&(Array.isArray(e)?e:[e]).some(e=>a(s,e,t[n]))}):!("object"!=typeof t||Array.isArray(t)||"object"!=typeof n||Array.isArray(n))&&Object.entries(n).every(([e,n])=>{if(null==n)return!0;let s=r.find(t=>t.name===e);return!!s&&(Array.isArray(n)?n:[n]).some(r=>a(s,r,t[e]))})}({args:i.args,inputs:n.inputs,matchArgs:r}))return null;return{...i,...e}}catch(n){let t,r;if(n instanceof D.AbiEventSignatureNotFoundError)return null;if(n instanceof D.DecodeLogDataMismatch||n instanceof D.DecodeLogTopicsMismatch){if(a)return null;t=n.abiItem.name,r=n.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...e,args:r?[]:{},eventName:t}}}).filter(Boolean)}function t3(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function t8(e,{address:t,blockHash:r,fromBlock:n,toBlock:a,event:s,events:i,args:o,strict:c}={}){let l=i??(s?[s]:void 0),u=[];l&&(u=[l.flatMap(e=>eX({abi:[e],eventName:e.name,args:i?void 0:o}))],s&&(u=u[0]));let d=(r?await e.request({method:"eth_getLogs",params:[{address:t,topics:u,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:u,fromBlock:"bigint"==typeof n?(0,$.numberToHex)(n):n,toBlock:"bigint"==typeof a?(0,$.numberToHex)(a):a}]})).map(e=>t3(e));return l?t4({abi:l,args:o,logs:d,strict:c??!1}):d}async function t9(e,t){let{abi:r,address:n,args:a,blockHash:s,eventName:i,fromBlock:o,toBlock:c,strict:l}=t,u=i?(0,eK.getAbiItem)({abi:r,name:i}):void 0,d=u?void 0:r.filter(e=>"event"===e.type);return U(e,t8,"getLogs")({address:n,args:a,blockHash:s,event:u,events:d,fromBlock:o,toBlock:c,strict:l})}var t7=R;class re extends t7.BaseError{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function rt(e,t){let{address:r,factory:n,factoryData:a}=t;try{let[t,s,i,o,c,l,u]=await U(e,ep,"readContract")({abi:rr,address:r,functionName:"eip712Domain",factory:n,factoryData:a});return{domain:{name:s,version:i,chainId:Number(o),verifyingContract:c,salt:l},extensions:u,fields:t}}catch(e){if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new re({address:r});throw e}}let rr=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function rn(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:a}){var s;let i=r?(0,$.numberToHex)(r):void 0;return{baseFeePerGas:(s=await e.request({method:"eth_feeHistory",params:[(0,$.numberToHex)(t),i||n,a]},{dedupe:!!i})).baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:s.gasUsedRatio,oldestBlock:BigInt(s.oldestBlock),reward:s.reward?.map(e=>e.map(e=>BigInt(e)))}}async function ra(e,{filter:t}){let r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof n[0])return n;let a=n.map(e=>t3(e));return"abi"in t&&t.abi?t4({abi:t.abi,logs:a,strict:r}):a}async function rs(e,{filter:t}){let r=t.strict??!1,n=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>t3(e));return t.abi?t4({abi:t.abi,logs:n,strict:r}):n}async function ri(e,{address:t,blockNumber:r,blockTag:n,storageKeys:a}){let s=void 0!==r?(0,$.numberToHex)(r):void 0;var i=await e.request({method:"eth_getProof",params:[t,a,s||(n??"latest")]});return{...i,balance:i.balance?BigInt(i.balance):void 0,nonce:i.nonce?(0,e5.hexToNumber)(i.nonce):void 0,storageProof:i.storageProof?i.storageProof.map(e=>({...e,value:BigInt(e.value)})):void 0}}async function ro(e,{address:t,blockNumber:r,blockTag:n="latest",slot:a}){let s=void 0!==r?(0,$.numberToHex)(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,a,s||n]})}async function rc(e,{blockHash:t,blockNumber:r,blockTag:n,hash:a,index:s}){let i=n||"latest",o=void 0!==r?(0,$.numberToHex)(r):void 0,c=null;if(!(c=a?await e.request({method:"eth_getTransactionByHash",params:[a]},{dedupe:!0}):t?await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,$.numberToHex)(s)]},{dedupe:!0}):await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||i,(0,$.numberToHex)(s)]},{dedupe:!!o})))throw new ta.TransactionNotFoundError({blockHash:t,blockNumber:r,blockTag:i,hash:a,index:s});return(e.chain?.formatters?.transaction?.format||ty)(c)}async function rl(e,{hash:t,transactionReceipt:r}){let[n,a]=await Promise.all([U(e,tX,"getBlockNumber")({}),t?U(e,rc,"getTransaction")({hash:t}):void 0]),s=r?.blockNumber||a?.blockNumber;return s?n-s+1n:0n}let ru={"0x0":"reverted","0x1":"success"};function rd(e){let t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>t3(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,e5.hexToNumber)(e.transactionIndex):null,status:e.status?ru[e.status]:null,type:e.type?tb[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}let rf=(0,th.defineFormatter)("transactionReceipt",rd);async function rp(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new ta.TransactionReceiptNotFoundError({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||rd)(r)}async function rm(e,t){let{allowFailure:r=!0,batchSize:n,blockNumber:a,blockTag:s,multicallAddress:i,stateOverride:o}=t,c=t.contracts,l=n??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024),u=i;if(!u){if(!e.chain)throw Error("client chain not configured. multicallAddress is required.");u=(0,B.getChainContractAddress)({blockNumber:a,chain:e.chain,contract:"multicall3"})}let d=[[]],f=0,p=0;for(let e=0;e<c.length;e++){let{abi:t,address:n,args:a,functionName:s}=c[e];try{let e=(0,A.encodeFunctionData)({abi:t,args:a,functionName:s});p+=(e.length-2)/2,l>0&&p>l&&d[f].length>0&&(f++,p=(e.length-2)/2,d[f]=[]),d[f]=[...d[f],{allowFailure:!0,callData:e,target:n}]}catch(i){let e=ed(i,{abi:t,address:n,args:a,docsPath:"/docs/contract/multicall",functionName:s});if(!r)throw e;d[f]=[...d[f],{allowFailure:!0,callData:"0x",target:n}]}}let m=await Promise.allSettled(d.map(t=>U(e,ep,"readContract")({abi:P.multicall3Abi,address:u,args:[t],blockNumber:a,blockTag:s,functionName:"aggregate3",stateOverride:o}))),h=[];for(let e=0;e<m.length;e++){let t=m[e];if("rejected"===t.status){if(!r)throw t.reason;for(let r=0;r<d[e].length;r++)h.push({status:"failure",error:t.reason,result:void 0});continue}let n=t.value;for(let t=0;t<n.length;t++){let{returnData:a,success:s}=n[t],{callData:i}=d[e][t],{abi:o,address:l,functionName:u,args:f}=c[h.length];try{if("0x"===i)throw new D.AbiDecodingZeroDataError;if(!s)throw new N.RawContractError({data:a});let e=(0,I.decodeFunctionResult)({abi:o,args:f,data:a,functionName:u});h.push(r?{result:e,status:"success"}:e)}catch(t){let e=ed(t,{abi:o,address:l,args:f,docsPath:"/docs/contract/multicall",functionName:u});if(!r)throw e;h.push({error:e,result:void 0,status:"failure"})}}}if(h.length!==c.length)throw new R.BaseError("multicall results mismatch");return h}class rh extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof rh){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),n=t.cause instanceof rh&&t.cause.docsPath||t.docsPath,a=`https://oxlib.sh${n??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||n?["",r?`Details: ${r}`:void 0,n?`See: ${a}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=a,this.docsPath=n,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}function rb(e,t){if(r$(e)>t)throw new rF({givenSize:r$(e),maxSize:t})}function ry(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;let a=e.replace("0x","");if(a.length>2*n)throw new rH({size:Math.ceil(a.length/2),targetSize:n,type:"Hex"});return`0x${a["right"===r?"padEnd":"padStart"](2*n,"0")}`}let rg=new TextEncoder,rw=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function rv(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function rx(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(rb(r,t.size),rA(r,t.size)):r}function rE(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=rw[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(rb(n,t.size),rB(n,t.size)):n}function rP(e,t={}){let r,{signed:n,size:a}=t,s=BigInt(e);a?r=n?(1n<<8n*BigInt(a)-1n)-1n:2n**(8n*BigInt(a))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let i="bigint"==typeof r&&n?-r-1n:0;if(r&&s>r||s<i){let t="bigint"==typeof e?"n":"";throw new rT({max:r?`${r}${t}`:void 0,min:`${i}${t}`,signed:n,size:a,value:`${e}${t}`})}let o=(n&&s<0?(1n<<BigInt(8*a))+BigInt(s):s).toString(16),c=`0x${o}`;return a?rA(c,a):c}function rI(e,t={}){return rE(rg.encode(e),t)}function rA(e,t){return ry(e,{dir:"left",size:t})}function rB(e,t){return ry(e,{dir:"right",size:t})}function rk(e,t,r,n={}){let{strict:a}=n;if("number"==typeof t&&t>0&&t>r$(e)-1)throw new rC({offset:t,position:"start",size:r$(e)});let s=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return a&&function(e,t,r){if("number"==typeof t&&"number"==typeof r&&r$(e)!==r-t)throw new rC({offset:r,position:"end",size:r$(e)})}(s,t,r),s}function r$(e){return Math.ceil((e.length-2)/2)}class rT extends rh{constructor({max:e,min:t,signed:r,size:n,value:a}){super(`Number \`${a}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class rR extends rh{constructor(e){super(`Value \`${"object"==typeof e?function(e,t,r){return JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"#__bigint":t,void 0)}(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class rN extends rh{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class rF extends rh{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class rC extends rh{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class rH extends rh{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function rO(e){return{address:e.address,amount:rP(e.amount),index:rP(e.index),validatorIndex:rP(e.validatorIndex)}}async function rS(e,t){let{blockNumber:r,blockTag:n="latest",blocks:a,returnFullTransactions:s,traceTransfers:i,validation:o}=t;try{let t=[];for(let e of a){var c;let r=e.blockOverrides?(c=e.blockOverrides,{..."bigint"==typeof c.baseFeePerGas&&{baseFeePerGas:rP(c.baseFeePerGas)},..."bigint"==typeof c.blobBaseFee&&{blobBaseFee:rP(c.blobBaseFee)},..."string"==typeof c.feeRecipient&&{feeRecipient:c.feeRecipient},..."bigint"==typeof c.gasLimit&&{gasLimit:rP(c.gasLimit)},..."bigint"==typeof c.number&&{number:rP(c.number)},..."bigint"==typeof c.prevRandao&&{prevRandao:rP(c.prevRandao)},..."bigint"==typeof c.time&&{time:rP(c.time)},...c.withdrawals&&{withdrawals:c.withdrawals.map(rO)}}):void 0,n=e.calls.map(e=>{let t=e.account?(0,v.parseAccount)(e.account):void 0,r={...e,data:e.abi?(0,A.encodeFunctionData)(e):e.data,from:e.from??t?.address};return(0,eU.assertRequest)(r),(0,ez.formatTransactionRequest)(r)}),a=e.stateOverrides?(0,tc.serializeStateOverride)(e.stateOverrides):void 0;t.push({blockOverrides:r,calls:n,stateOverrides:a})}let l=r?(0,$.numberToHex)(r):void 0;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:s,traceTransfers:i,validation:o},l||n]})).map((e,t)=>({...tw(e),calls:e.calls.map((e,r)=>{let{abi:n,args:s,functionName:i,to:o}=a[t].calls[r],c=e.error?.data??e.returnData,l=BigInt(e.gasUsed),u=e.logs?.map(e=>t3(e)),d="0x1"===e.status?"success":"failure",f=n&&"success"===d?(0,I.decodeFunctionResult)({abi:n,data:c,functionName:i}):null,p=(()=>{let t;if("success"!==d&&(e.error?.data==="0x"?t=new D.AbiDecodingZeroDataError:e.error&&(t=new N.RawContractError(e.error)),t))return ed(t,{abi:n??[],address:o,args:s,functionName:i??"<unknown>"})})();return{data:c,gasUsed:l,logs:u,status:d,..."success"===d?{result:f}:{error:p}}})}))}catch(t){let e=(0,to.getNodeError)(t,{});if(e instanceof ti.UnknownNodeError)throw t;throw e}}function rM(e,t){let r=e.exec(t);return r?.groups}let rj=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,rz=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,rU=/^\(.+?\).*?$/,rD=/^tuple(?<array>(\[(\d*)\])*)$/;function rG(e){let t="",r=e.length;for(let n=0;n<r;n++)t+=function e(t){let r=t.type;if(rD.test(t.type)&&"components"in t){r="(";let n=t.components.length;for(let a=0;a<n;a++)r+=e(t.components[a]),a<n-1&&(r+=", ");let a=rM(rD,t.type);return r+=`)${a?.array||""}`,e({...t,type:r})}return("indexed"in t&&t.indexed&&(r=`${r} indexed`),t.name)?`${r} ${t.name}`:r}(e[n]),n!==r-1&&(t+=", ");return t}function rq(e){return"function"===e.type?`function ${e.name}(${rG(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${rG(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${rG(e.inputs)})`:"error"===e.type?`error ${e.name}(${rG(e.inputs)})`:"constructor"===e.type?`constructor(${rG(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?`fallback() external${"payable"===e.stateMutability?" payable":""}`:"receive() external payable"}class r_ extends Error{constructor(e,t={}){const r=t.cause instanceof r_?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof r_&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.2.3"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}}class rL extends r_{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class rV extends r_{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class rZ extends r_{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}let rW=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,rK=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,rJ=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/,rX=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/,rQ=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/,rY=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/,r0=/^receive\(\) external payable$/,r1=new Set(["indexed"]),r2=new Set(["calldata","memory","storage"]);class r5 extends r_{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class r6 extends r_{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class r4 extends r_{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class r3 extends r_{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class r8 extends r_{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class r9 extends r_{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class r7 extends r_{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class ne extends r_{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class nt extends r_{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class nr extends r_{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let nn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function na(e,t={}){if(rJ.test(e))return function(e,t={}){let r=rM(rJ,e);if(!r)throw new r9({signature:e,type:"function"});let n=nl(r.parameters),a=[],s=n.length;for(let e=0;e<s;e++)a.push(nc(n[e],{modifiers:r2,structs:t,type:"function"}));let i=[];if(r.returns){let e=nl(r.returns),n=e.length;for(let r=0;r<n;r++)i.push(nc(e[r],{modifiers:r2,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:a,outputs:i}}(e,t);if(rK.test(e))return function(e,t={}){let r=rM(rK,e);if(!r)throw new r9({signature:e,type:"event"});let n=nl(r.parameters),a=[],s=n.length;for(let e=0;e<s;e++)a.push(nc(n[e],{modifiers:r1,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:a}}(e,t);if(rW.test(e))return function(e,t={}){let r=rM(rW,e);if(!r)throw new r9({signature:e,type:"error"});let n=nl(r.parameters),a=[],s=n.length;for(let e=0;e<s;e++)a.push(nc(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:a}}(e,t);if(rQ.test(e))return function(e,t={}){let r=rM(rQ,e);if(!r)throw new r9({signature:e,type:"constructor"});let n=nl(r.parameters),a=[],s=n.length;for(let e=0;e<s;e++)a.push(nc(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:a}}(e,t);if(rY.test(e)){var r=e;let t=rM(rY,r);if(!t)throw new r9({signature:r,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}if(r0.test(e))return{type:"receive",stateMutability:"payable"};throw new r7({signature:e})}let ns=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ni=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,no=/^u?int$/;function nc(e,t){var r,n;let a,s=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:`${e}${n}`}(e,t?.type,t?.structs);if(nn.has(s))return nn.get(s);let i=rU.test(e),o=rM(i?ni:ns,e);if(!o)throw new r5({param:e});if(o.name&&("address"===(r=o.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||rj.test(r)||rz.test(r)||nd.test(r)))throw new r6({param:e,name:o.name});let c=o.name?{name:o.name}:{},l="indexed"===o.modifier?{indexed:!0}:{},u=t?.structs??{},d={};if(i){a="tuple";let e=nl(o.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(nc(e[n],{structs:u}));d={components:t}}else if(o.type in u)a="tuple",d={components:u[o.type]};else if(no.test(o.type))a=`${o.type}256`;else if("address payable"===o.type)a="address";else if(a=o.type,t?.type!=="struct"&&!nu(a))throw new rZ({type:a});if(o.modifier){if(!t?.modifiers?.has?.(o.modifier))throw new r4({param:e,type:t?.type,modifier:o.modifier});if(r2.has(o.modifier)&&(n=a,!o.array&&"bytes"!==n&&"string"!==n&&"tuple"!==n))throw new r3({param:e,type:t?.type,modifier:o.modifier})}let f={type:`${a}${o.array??""}`,...c,...l,...d};return nn.set(s,f),f}function nl(e,t=[],r="",n=0){let a=e.trim().length;for(let s=0;s<a;s++){let a=e[s],i=e.slice(s+1);switch(a){case",":return 0===n?nl(i,[...t,r.trim()]):nl(i,t,`${r}${a}`,n);case"(":return nl(i,t,`${r}${a}`,n+1);case")":return nl(i,t,`${r}${a}`,n-1);default:return nl(i,t,`${r}${a}`,n)}}if(""===r)return t;if(0!==n)throw new nr({current:r,depth:n});return t.push(r.trim()),t}function nu(e){return"address"===e||"bool"===e||"function"===e||"string"===e||rj.test(e)||rz.test(e)}let nd=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/,nf=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;var np=e.i(81228);function nm(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}let nh=new TextEncoder;class nb extends rh{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class ny extends rh{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function ng(e,t={}){var r;let{as:n="string"==typeof e?"Hex":"Bytes"}=t,a=(0,np.keccak_256)(e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){let{size:r}=t,n=e;r&&(rb(e,r),n=rB(e,r));let a=n.slice(2);a.length%2&&(a=`0${a}`);let s=a.length/2,i=new Uint8Array(s);for(let e=0,t=0;e<s;e++){let r=nm(a.charCodeAt(t++)),n=nm(a.charCodeAt(t++));if(void 0===r||void 0===n)throw new rh(`Invalid byte sequence ("${a[t-2]}${a[t-1]}" in "${a}").`);i[e]=16*r+n}return i}(e):(r=e)instanceof Uint8Array?r:new Uint8Array(r));return"Bytes"===n?a:rE(a)}class nw extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let nv={checksum:new nw(8192)}.checksum,nx=/^0x[a-fA-F0-9]{40}$/;function nE(e,t={}){let{strict:r=!0}=t;if(!nx.test(e))throw new nI({address:e,cause:new nA});if(r){if(e.toLowerCase()===e)return;if(function(e){if(nv.has(e))return nv.get(e);nE(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=ng(function(e,t={}){let{size:r}=t,n=nh.encode(e);if("number"==typeof r){var a;if(n.length>r)throw new nb({givenSize:n.length,maxSize:r});return a=n,function(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new ny({size:e.length,targetSize:n,type:"Bytes"});let a=new Uint8Array(n);for(let t=0;t<n;t++){let s="right"===r;a[s?t:n-t-1]=e[s?t:e.length-t-1]}return a}(a,{dir:"right",size:r})}return n}(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());let a=`0x${n.join("")}`;return nv.set(e,a),a}(e)!==e)throw new nI({address:e,cause:new nB})}}function nP(e,t={}){let{strict:r=!0}=t??{};try{return nE(e,{strict:r}),!0}catch{return!1}}class nI extends rh{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class nA extends rh{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class nB extends rh{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function nk(e){let t=!0,r="",n=0,a="",s=!1;for(let i=0;i<e.length;i++){let o=e[i];if(["(",")",","].includes(o)&&(t=!0),"("===o&&n++,")"===o&&n--,t){if(0===n){if(" "===o&&["event","function","error",""].includes(a))a="";else if(a+=o,")"===o){s=!0;break}continue}if(" "===o){","!==e[i-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}a+=o,r+=o}}if(!s)throw new rh("Unable to normalize signature.");return a}function n$(e,t={}){let{prepare:r=!0}=t,n=Array.isArray(e)||"string"==typeof e?function(e){let t;if("string"==typeof e)t=na(e);else{let r=function(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!rX.test(r))continue;let a=rM(rX,r);if(!a)throw new r9({signature:r,type:"struct"});let s=a.properties.split(";"),i=[],o=s.length;for(let e=0;e<o;e++){let t=s[e].trim();if(!t)continue;let r=nc(t,{type:"struct"});i.push(r)}if(!i.length)throw new ne({signature:r});t[a.name]=i}let n={},a=Object.entries(t),s=a.length;for(let e=0;e<s;e++){let[r,s]=a[e];n[r]=function e(t=[],r={},n=new Set){let a=[],s=t.length;for(let i=0;i<s;i++){let s=t[i];if(rU.test(s.type))a.push(s);else{let t=rM(nf,s.type);if(!t?.type)throw new r8({abiParameter:s});let{array:i,type:o}=t;if(o in r){if(n.has(o))throw new nt({type:o});a.push({...s,type:`tuple${i??""}`,components:e(r[o],r,new Set([...n,o]))})}else if(nu(o))a.push(s);else throw new rV({type:o})}}return a}(s,t)}return n}(e),n=e.length;for(let a=0;a<n;a++){let n=e[a];if(!rX.test(n)){t=na(n,r);break}}}if(!t)throw new rL({signature:e});return t}(e):e;return{...n,...r?{hash:nR(n)}:{}}}function nT(e){return rk(nR(e),0,4)}function nR(e){return"string"!=typeof e&&"hash"in e&&e.hash?e.hash:ng(rI(nk("string"==typeof e?e:rq(e))))}class nN extends rh{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${nk(rq(e.abiItem))}\`, and`,`\`${t.type}\` in \`${nk(rq(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class nF extends rh{constructor({name:e,data:t,type:r="item"}){const n=e?` with name "${e}"`:t?` with data "${t}"`:"";super(`ABI ${r}${n} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}let nC=/^(.*)\[([0-9]*)\]$/,nH=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,nO=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function nS(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:a}=e[r];n?t+=32:t+=r$(a)}let r=[],n=[],a=0;for(let s=0;s<e.length;s++){let{dynamic:i,encoded:o}=e[s];i?(r.push(rP(t+a,{size:32})),n.push(o),a+=r$(o)):r.push(o)}return rv(...r,...n)}function nM(e,t,r){let{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new nD({expectedLength:e.length,givenLength:t.length});let a=nS(function({checksumAddress:e,parameters:t,values:r}){let n=[];for(let a=0;a<t.length;a++)n.push(function e({checksumAddress:t=!1,parameter:r,value:n}){let a,s=(a=r.type.match(/^(.*)\[(\d+)?\]$/))?[a[2]?Number(a[2]):null,a[1]]:void 0;if(s){let[a,i]=s;return function(t,r){let{checksumAddress:n,length:a,parameter:s}=r,i=null===a;if(!Array.isArray(t))throw new nG(t);if(!i&&t.length!==a)throw new nz({expectedLength:a,givenLength:t.length,type:`${s.type}[${a}]`});let o=!1,c=[];for(let r=0;r<t.length;r++){let a=e({checksumAddress:n,parameter:s,value:t[r]});a.dynamic&&(o=!0),c.push(a)}if(i||o){let e=nS(c);if(i){let t=rP(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?rv(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:rv(...c.map(({encoded:e})=>e))}}(n,{checksumAddress:t,length:a,parameter:{...r,type:i}})}if("tuple"===r.type)return function(t,r){let{checksumAddress:n,parameter:a}=r,s=!1,i=[];for(let r=0;r<a.components.length;r++){let o=a.components[r],c=Array.isArray(t)?r:o.name,l=e({checksumAddress:n,parameter:o,value:t[c]});i.push(l),l.dynamic&&(s=!0)}return{dynamic:s,encoded:s?nS(i):rv(...i.map(({encoded:e})=>e))}}(n,{checksumAddress:t,parameter:r});if("address"===r.type)return function(e,t){let{checksum:r=!1}=t;return nE(e,{strict:r}),{dynamic:!1,encoded:rA(e.toLowerCase())}}(n,{checksum:t});if("bool"===r.type){var i=n;if("boolean"!=typeof i)throw new rh(`Invalid boolean value: "${i}" (type: ${typeof i}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:rA(rx(i))}}if(r.type.startsWith("uint")||r.type.startsWith("int")){let e=r.type.startsWith("int"),[,,t="256"]=nO.exec(r.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,a=t?-n-1n:0n;if(e>n||e<a)throw new rT({max:n.toString(),min:a.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:rP(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),n=r$(e);if(!r){let t=e;return n%32!=0&&(t=rB(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:rv(rA(rP(n,{size:32})),t)}}if(n!==Number.parseInt(r))throw new nU({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:rB(e)}}(n,{type:r.type});if("string"===r.type){var o=n;let e=rI(o),t=Math.ceil(r$(e)/32),r=[];for(let n=0;n<t;n++)r.push(rB(rk(e,32*n,(n+1)*32)));return{dynamic:!0,encoded:rv(rB(rP(r$(e),{size:32})),...r)}}throw new nq(r.type)}({checksumAddress:e,parameter:t[a],value:r[a]}));return n}({checksumAddress:n,parameters:e,values:t}));return 0===a.length?"0x":a}function nj(e,t){if(e.length!==t.length)throw new nD({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let a=e[n],s=t[n];r.push(nj.encode(a,s))}return rv(...r)}new Uint8Array,new DataView(new ArrayBuffer(0)),(nj||(nj={})).encode=function e(t,r,n=!1){if("address"===t)return nE(r),rA(r.toLowerCase(),32*!!n);if("string"===t)return rI(r);if("bytes"===t)return r;if("bool"===t)return rA(rx(r),n?32:1);let a=t.match(nO);if(a){let[e,t,s="256"]=a,i=Number.parseInt(s)/8;return rP(r,{size:n?32:i,signed:"int"===t})}let s=t.match(nH);if(s){let[e,t]=s;if(Number.parseInt(t)!==(r.length-2)/2)throw new nU({expectedSize:Number.parseInt(t),value:r});return rB(r,32*!!n)}let i=t.match(nC);if(i&&Array.isArray(r)){let[t,n]=i,a=[];for(let t=0;t<r.length;t++)a.push(e(n,r[t],!0));return 0===a.length?"0x":rv(...a)}throw new nq(t)};class nz extends rh{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class nU extends rh{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${r$(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class nD extends rh{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class nG extends rh{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class nq extends rh{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function n_(e,t={}){return n$(e,t)}let nL="0x0000000000000000000000000000000000000000";var nV=e.i(62409);async function nZ(e,t){let{blockNumber:r,blockTag:n,calls:a,stateOverrides:s,traceAssetChanges:i,traceTransfers:o,validation:c}=t,l=t.account?(0,v.parseAccount)(t.account):void 0;if(i&&!l)throw new R.BaseError("`account` is required when `traceAssetChanges` is true");let u=l?function(e,t){let{bytecode:r,args:n}=t;return rv(r,e.inputs?.length&&n?.length?nM(e.inputs,n):"0x")}(n$("constructor(bytes, bytes)"),{bytecode:nV.deploylessCallViaBytecodeBytecode,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",function(e,...t){let{overloads:r}=e,n=r?function(e,t,r){let n=function(e,t,r){let n,{args:a=[],prepare:s=!0}=r??{},i=function(e,t={}){let{strict:r=!1}=t;try{return!function(e,t={}){let{strict:r=!1}=t;if(!e||"string"!=typeof e)throw new rR(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e)||!e.startsWith("0x"))throw new rN(e)}(e,{strict:r}),!0}catch{return!1}}(t,{strict:!1}),o=e.filter(e=>i?"function"===e.type||"error"===e.type?nT(e)===rk(t,0,4):"event"===e.type&&nR(e)===t:"name"in e&&e.name===t);if(0===o.length)throw new nF({name:t});if(1===o.length)return{...o[0],...s?{hash:nR(o[0])}:{}};for(let e of o){if("inputs"in e){if(!a||0===a.length){if(!e.inputs||0===e.inputs.length)return{...e,...s?{hash:nR(e)}:{}};continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===a.length&&a.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,a=r.type;switch(a){case"address":return nP(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===a&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(a))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(a))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(a))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:a.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(n&&"inputs"in n&&n.inputs){let t=function e(t,r,n){for(let a in t){let s=t[a],i=r[a];if("tuple"===s.type&&"tuple"===i.type&&"components"in s&&"components"in i)return e(s.components,i.components,n[a]);let o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")||(o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes"))&&nP(n[a],{strict:!1}))return o}}(e.inputs,n.inputs,a);if(t)throw new nN({abiItem:e,type:t[0]},{abiItem:n,type:t[1]})}n=e}}}let c=(()=>{if(n)return n;let[e,...t]=o;return{...e,overloads:t}})();if(!c)throw new nF({name:t});return{...c,...s?{hash:nR(c)}:{}}}(e,t,r);if("function"!==n.type)throw new nF({name:t,type:"function"});return n}([e,...r],e.name,{args:t[0]}):e,a=nT(n),s=t.length>0?nM(n.inputs,t[0]):void 0;return s?rv(a,s):a}(n_("function getBalance(address)"),[l.address])]}):void 0,d=i?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;let{accessList:r}=await eD(e,{account:l.address,...t,data:t.abi?(0,A.encodeFunctionData)(t):t.data});return r.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],f=s?.map(e=>e.address===l?.address?{...e,nonce:0}:e),p=await rS(e,{blockNumber:r,blockTag:n,blocks:[...i?[{calls:[{data:u}],stateOverrides:s},{calls:d.map((e,t)=>({abi:[n_("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:e,from:nL,nonce:t})),stateOverrides:[{address:nL,nonce:0}]}]:[],{calls:[...a,{}].map((e,t)=>({...e,from:l?.address,nonce:t})),stateOverrides:f},...i?[{calls:[{data:u}]},{calls:d.map((e,t)=>({abi:[n_("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:e,from:nL,nonce:t})),stateOverrides:[{address:nL,nonce:0}]},{calls:d.map((e,t)=>({to:e,abi:[n_("function decimals() returns (uint256)")],functionName:"decimals",from:nL,nonce:t})),stateOverrides:[{address:nL,nonce:0}]},{calls:d.map((e,t)=>({to:e,abi:[n_("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:nL,nonce:t})),stateOverrides:[{address:nL,nonce:0}]},{calls:d.map((e,t)=>({to:e,abi:[n_("function symbol() returns (string)")],functionName:"symbol",from:nL,nonce:t})),stateOverrides:[{address:nL,nonce:0}]}]:[]],traceTransfers:o,validation:c}),m=i?p[2]:p[0],[h,b,,y,g,w,x,E]=i?p:[],{calls:P,...I}=m,B=P.slice(0,-1)??[],k=[...h?.calls??[],...b?.calls??[]].map(e=>"success"===e.status?(0,e5.hexToBigInt)(e.data):null),$=[...y?.calls??[],...g?.calls??[]].map(e=>"success"===e.status?(0,e5.hexToBigInt)(e.data):null),T=(w?.calls??[]).map(e=>"success"===e.status?e.result:null),N=(E?.calls??[]).map(e=>"success"===e.status?e.result:null),F=(x?.calls??[]).map(e=>"success"===e.status?e.result:null),C=[];for(let[e,t]of $.entries()){let r=k[e];if("bigint"!=typeof t||"bigint"!=typeof r)continue;let n=T[e-1],a=N[e-1],s=F[e-1],i=0===e?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:d[e-1],decimals:s||n?Number(n??1):void 0,symbol:a??void 0};C.some(e=>e.token.address===i.address)||C.push({token:i,value:{pre:r,post:t,diff:t-r}})}return{assetChanges:C,block:I,results:B}}async function nW(e,t){let{abi:r,address:n,args:a,dataSuffix:s,functionName:i,...o}=t,c=o.account?(0,v.parseAccount)(o.account):e.account,l=(0,A.encodeFunctionData)({abi:r,args:a,functionName:i});try{let{data:u}=await U(e,ef.call,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:n,...o,account:c}),d=(0,I.decodeFunctionResult)({abi:r,args:a,functionName:i,data:u||"0x"}),f=r.filter(e=>"name"in e&&e.name===t.functionName);return{result:d,request:{abi:f,address:n,args:a,dataSuffix:s,functionName:i,...o,account:c}}}catch(e){throw ed(e,{abi:r,address:n,args:a,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}async function nK(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function nJ(e,t){let r,n;return(0,O.keccak256)((r="string"==typeof e?(0,$.stringToHex)(e):"string"==typeof e.raw?e.raw:(0,$.bytesToHex)(e.raw),n=(0,$.stringToHex)(`\x19Ethereum Signed Message:
${(0,tM.size)(r)}`),(0,C.concat)([n,r])),t)}var nX=e.i(75240);let nQ="0x6492649264926492649264926492649264926492649264926492649264926492";var nY=e.i(84195),n0=e.i(30181);async function n1(e,t){let{address:r,factory:n,factoryData:a,hash:s,signature:i,universalSignatureVerifierAddress:o=e.chain?.contracts?.universalSignatureVerifier?.address,...c}=t,l=(0,S.isHex)(i)?i:"object"==typeof i&&"r"in i&&"s"in i?function({r:e,s:t,to:r="hex",v:n,yParity:a}){let s=(()=>{if(0===a||1===a)return a;if(n&&(27n===n||28n===n||n>=35n))return+(n%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),i=`0x${new n0.secp256k1.Signature((0,e5.hexToBigInt)(e),(0,e5.hexToBigInt)(t)).toCompactHex()}${0===s?"1b":"1c"}`;return"hex"===r?i:(0,H.hexToBytes)(i)}(i):(0,$.bytesToHex)(i),u=await (async()=>n||a?(0,nY.sliceHex)(l,-32)===nQ?l:function(e){let{address:t,data:r,signature:n,to:a="hex"}=e,s=(0,C.concatHex)([(0,eZ.encodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,r,n]),nQ]);return"hex"===a?s:(0,H.hexToBytes)(s)}({address:n,data:a,signature:l}):l)();try{let t=o?{to:o,data:(0,A.encodeFunctionData)({abi:P.universalSignatureValidatorAbi,functionName:"isValidSig",args:[r,s,u]}),...c}:{data:(0,nX.encodeDeployData)({abi:P.universalSignatureValidatorAbi,args:[r,s,u],bytecode:nV.universalSignatureValidatorByteCode}),...c},{data:n}=await U(e,ef.call,"call")(t);return(0,e5.hexToBool)(n??"0x0")}catch(e){try{if((0,t0.isAddressEqual)((0,e2.getAddress)(r),await e3({hash:s,signature:i})))return!0}catch{}if(e instanceof N.CallExecutionError)return!1;throw e}}async function n2(e,{address:t,message:r,factory:n,factoryData:a,signature:s,...i}){return n1(e,{address:t,factory:n,factoryData:a,hash:nJ(r),signature:s,...i})}var n5=e.i(34837),n6=e.i(70263),n4=R;class n3 extends n4.BaseError{constructor({domain:e}){super(`Invalid domain "${(0,n6.stringify)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class n8 extends n4.BaseError{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class n9 extends n4.BaseError{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var n7=e.i(95609),ae=e.i(95120);function at({data:e,primaryType:t,types:r}){let n=function e({data:t,primaryType:r,types:n}){let a=[{type:"bytes32"}],s=[function({primaryType:e,types:t}){let r=(0,$.toHex)(function({primaryType:e,types:t}){let r="",n=function e({primaryType:t,types:r},n=new Set){let a=t.match(/^\w*/u),s=a?.[0];if(n.has(s)||void 0===r[s])return n;for(let t of(n.add(s),r[s]))e({primaryType:t.type,types:r},n);return n}({primaryType:e,types:t});for(let a of(n.delete(e),[e,...Array.from(n).sort()]))r+=`${a}(${t[a].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return r}({primaryType:e,types:t}));return(0,O.keccak256)(r)}({primaryType:r,types:n})];for(let i of n[r]){let[r,o]=function t({types:r,name:n,type:a,value:s}){if(void 0!==r[a])return[{type:"bytes32"},(0,O.keccak256)(e({data:s,primaryType:a,types:r}))];if("bytes"===a){let e=s.length%2?"0":"";return s=`0x${e+s.slice(2)}`,[{type:"bytes32"},(0,O.keccak256)(s)]}if("string"===a)return[{type:"bytes32"},(0,O.keccak256)((0,$.toHex)(s))];if(a.lastIndexOf("]")===a.length-1){let e=a.slice(0,a.lastIndexOf("[")),i=s.map(a=>t({name:n,type:e,types:r,value:a}));return[{type:"bytes32"},(0,O.keccak256)((0,eZ.encodeAbiParameters)(i.map(([e])=>e),i.map(([,e])=>e)))]}return[{type:a},s]}({types:n,name:i.name,type:i.type,value:t[i.name]});a.push(r),s.push(o)}return(0,eZ.encodeAbiParameters)(a,s)}({data:e,primaryType:t,types:r});return(0,O.keccak256)(n)}async function ar(e,t){let{address:r,factory:n,factoryData:a,signature:s,message:i,primaryType:o,types:c,domain:l,...u}=t;return n1(e,{address:r,factory:n,factoryData:a,hash:function(e){let{domain:t={},message:r,primaryType:n}=e,a={EIP712Domain:function({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}({domain:t}),...e.types};!function(e){let{domain:t,message:r,primaryType:n,types:a}=e,s=(e,t)=>{for(let r of e){let{name:e,type:n}=r,i=t[e],o=n.match(ae.integerRegex);if(o&&("number"==typeof i||"bigint"==typeof i)){let[e,t,r]=o;(0,$.numberToHex)(i,{signed:"int"===t,size:Number.parseInt(r)/8})}if("address"===n&&"string"==typeof i&&!(0,n7.isAddress)(i))throw new n5.InvalidAddressError({address:i});let c=n.match(ae.bytesRegex);if(c){let[e,t]=c;if(t&&(0,tM.size)(i)!==Number.parseInt(t))throw new D.BytesSizeMismatchError({expectedSize:Number.parseInt(t),givenSize:(0,tM.size)(i)})}let l=a[n];l&&(function(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new n9({type:e})}(n),s(l,i))}};if(a.EIP712Domain&&t){if("object"!=typeof t)throw new n3({domain:t});s(a.EIP712Domain,t)}if("EIP712Domain"!==n)if(a[n])s(a[n],r);else throw new n8({primaryType:n,types:a})}({domain:t,message:r,primaryType:n,types:a});let s=["0x1901"];return t&&s.push(function({domain:e,types:t}){return at({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:a})),"EIP712Domain"!==n&&s.push(at({data:r,primaryType:n,types:a})),(0,O.keccak256)((0,C.concat)(s))}({message:i,primaryType:o,types:c,domain:l}),signature:s,...u})}let an=new Map,aa=new Map,as=0;function ai(e,t,r){let n=++as,a=()=>an.get(e)||[],s=()=>{let t,r=a();if(!r.some(e=>e.id===n))return;let s=aa.get(e);1===r.length&&s&&s(),t=a(),an.set(e,t.filter(e=>e.id!==n))},i=a();if(an.set(e,[...i,{id:n,fns:t}]),i&&i.length>0)return s;let o={};for(let e in t)o[e]=(...t)=>{let r=a();if(0!==r.length)for(let n of r)n.fns[e]?.(...t)};let c=r(o);return"function"==typeof c&&aa.set(e,c),s}var ao=e.i(30314);async function ac(e){return new Promise(t=>setTimeout(t,e))}function al(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((a,s)=>{let i=async({count:o=0}={})=>{let c=async({error:e})=>{let r="function"==typeof t?t({count:o,error:e}):t;r&&await ac(r),i({count:o+1})};try{let t=await e();a(t)}catch(e){if(o<r&&await n({count:o,error:e}))return c({error:e});s(e)}};i()})}function au(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let a=!0,s=()=>a=!1;return(async()=>{let i;t&&(i=await e({unpoll:s}));let o=await r?.(i)??n;await ac(o);let c=async()=>{a&&(await e({unpoll:s}),await ac(n),c())};c()})(),s}function ad(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:a,poll:s,pollingInterval:i=e.pollingInterval}){let o;return(void 0!==s?s:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?ai((0,n6.stringify)(["watchBlockNumber",e.uid,t,r,i]),{onBlockNumber:n,onError:a},n=>au(async()=>{try{let t=await U(e,tX,"getBlockNumber")({cacheTime:0});if(o){if(t===o)return;if(t-o>1&&r)for(let e=o+1n;e<t;e++)n.onBlockNumber(e,o),o=e}(!o||t>o)&&(n.onBlockNumber(t,o),o=t)}catch(e){n.onError?.(e)}},{emitOnBegin:t,interval:i})):ai((0,n6.stringify)(["watchBlockNumber",e.uid,t,r]),{onBlockNumber:n,onError:a},t=>{let r=!0,n=()=>r=!1;return(async()=>{try{let a=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await a.subscribe({params:["newHeads"],onData(e){if(!r)return;let n=(0,e5.hexToBigInt)(e.result?.number);t.onBlockNumber(n,o),o=n},onError(e){t.onError?.(e)}});n=s,r||n()}catch(e){a?.(e)}})(),()=>n()})}async function af(e,{confirmations:t=1,hash:r,onReplaced:n,pollingInterval:a=e.pollingInterval,retryCount:s=6,retryDelay:i=({count:e})=>200*~~(1<<e),timeout:o=18e4}){let c,l,u,d=(0,n6.stringify)(["waitForTransactionReceipt",e.uid,r]),f=!1,{promise:p,resolve:m,reject:h}=(0,ao.withResolvers)(),b=o?setTimeout(()=>h(new ta.WaitForTransactionReceiptTimeoutError({hash:r})),o):void 0,y=ai(d,{onReplaced:n,resolve:m,reject:h},n=>{let o=U(e,ad,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:a,async onBlockNumber(a){let d=e=>{clearTimeout(b),o(),e(),y()},p=a;if(!f)try{if(u){if(t>1&&(!u.blockNumber||p-u.blockNumber+1n<t))return;d(()=>n.resolve(u));return}if(c||(f=!0,await al(async()=>{(c=await U(e,rc,"getTransaction")({hash:r})).blockNumber&&(p=c.blockNumber)},{delay:i,retryCount:s}),f=!1),u=await U(e,rp,"getTransactionReceipt")({hash:r}),t>1&&(!u.blockNumber||p-u.blockNumber+1n<t))return;d(()=>n.resolve(u))}catch(r){if(r instanceof ta.TransactionNotFoundError||r instanceof ta.TransactionReceiptNotFoundError){if(!c){f=!1;return}try{l=c,f=!0;let r=await al(()=>U(e,tx,"getBlock")({blockNumber:p,includeTransactions:!0}),{delay:i,retryCount:s,shouldRetry:({error:e})=>e instanceof tm});f=!1;let a=r.transactions.find(({from:e,nonce:t})=>e===l.from&&t===l.nonce);if(!a||(u=await U(e,rp,"getTransactionReceipt")({hash:a.hash}),t>1&&(!u.blockNumber||p-u.blockNumber+1n<t)))return;let o="replaced";a.to===l.to&&a.value===l.value&&a.input===l.input?o="repriced":a.from===a.to&&0n===a.value&&(o="cancelled"),d(()=>{n.onReplaced?.({reason:o,replacedTransaction:l,transaction:a,transactionReceipt:u}),n.resolve(u)})}catch(e){d(()=>n.reject(e))}}else d(()=>n.reject(r))}}})});return p}let ap=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,am=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function ah(e,t){let{address:r,domain:n,message:a,nonce:s,scheme:i,signature:o,time:c=new Date,...l}=t,u=function(e){let{scheme:t,statement:r,...n}=e.match(ap)?.groups??{},{chainId:a,expirationTime:s,issuedAt:i,notBefore:o,requestId:c,...l}=e.match(am)?.groups??{},u=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...l,...a?{chainId:Number(a)}:{},...s?{expirationTime:new Date(s)}:{},...i?{issuedAt:new Date(i)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(a);if(!u.address||!function(e){let{address:t,domain:r,message:n,nonce:a,scheme:s,time:i=new Date}=e;if(r&&n.domain!==r||a&&n.nonce!==a||s&&n.scheme!==s||n.expirationTime&&i>=n.expirationTime||n.notBefore&&i<n.notBefore)return!1;try{if(!n.address||t&&!(0,t0.isAddressEqual)(n.address,t))return!1}catch{return!1}return!0}({address:r,domain:n,message:u,nonce:s,scheme:i,time:c}))return!1;let d=nJ(a);return n1(e,{address:u.address,hash:d,signature:o,...l})}async function ab(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}function ay(e){return{call:t=>(0,ef.call)(e,t),createAccessList:t=>eD(e,t),createBlockFilter:()=>eq(e),createContractEventFilter:t=>eY(e,t),createEventFilter:t=>e0(e,t),createPendingTransactionFilter:()=>e1(e),estimateContractGas:t=>tV(e,t),estimateGas:t=>tL(e,t),getBalance:t=>t_(e,t),getBlobBaseFee:()=>tZ(e),getBlock:t=>tx(e,t),getBlockNumber:t=>tX(e,t),getBlockTransactionCount:t=>tQ(e,t),getBytecode:t=>tY(e,t),getChainId:()=>tU(e),getCode:t=>tY(e,t),getContractEvents:t=>t9(e,t),getEip712Domain:t=>rt(e,t),getEnsAddress:t=>em(e,t),getEnsAvatar:t=>eH(e,t),getEnsName:t=>eO(e,t),getEnsResolver:t=>eS(e,t),getEnsText:t=>eC(e,t),getFeeHistory:t=>rn(e,t),estimateFeesPerGas:t=>tA(e,t),getFilterChanges:t=>ra(e,t),getFilterLogs:t=>rs(e,t),getGasPrice:()=>tE(e),getLogs:t=>t8(e,t),getProof:t=>ri(e,t),estimateMaxPriorityFeePerGas:t=>tP(e,t),getStorageAt:t=>ro(e,t),getTransaction:t=>rc(e,t),getTransactionConfirmations:t=>rl(e,t),getTransactionCount:t=>tk(e,t),getTransactionReceipt:t=>rp(e,t),multicall:t=>rm(e,t),prepareTransactionRequest:t=>tq(e,t),readContract:t=>ep(e,t),sendRawTransaction:t=>ab(e,t),simulate:t=>rS(e,t),simulateBlocks:t=>rS(e,t),simulateCalls:t=>nZ(e,t),simulateContract:t=>nW(e,t),verifyMessage:t=>n2(e,t),verifySiweMessage:t=>ah(e,t),verifyTypedData:t=>ar(e,t),uninstallFilter:t=>nK(e,t),waitForTransactionReceipt:t=>af(e,t),watchBlocks:t=>(function(e,{blockTag:t="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:a,onError:s,includeTransactions:i,poll:o,pollingInterval:c=e.pollingInterval}){let l,u,d,f,p=void 0!==o?o:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),m=i??!1;return p?ai((0,n6.stringify)(["watchBlocks",e.uid,t,r,n,m,c]),{onBlock:a,onError:s},a=>au(async()=>{try{let n=await U(e,tx,"getBlock")({blockTag:t,includeTransactions:m});if(n.number&&l?.number){if(n.number===l.number)return;if(n.number-l.number>1&&r)for(let t=l?.number+1n;t<n.number;t++){let r=await U(e,tx,"getBlock")({blockNumber:t,includeTransactions:m});a.onBlock(r,l),l=r}}(!l?.number||"pending"===t&&!n?.number||n.number&&n.number>l.number)&&(a.onBlock(n,l),l=n)}catch(e){a.onError?.(e)}},{emitOnBegin:n,interval:c})):(u=!0,d=!0,f=()=>u=!1,(async()=>{try{n&&U(e,tx,"getBlock")({blockTag:t,includeTransactions:m}).then(e=>{!u||d&&(a(e,void 0),d=!1)});let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:i}=await r.subscribe({params:["newHeads"],async onData(t){if(!u)return;let r=await U(e,tx,"getBlock")({blockNumber:t.blockNumber,includeTransactions:m}).catch(()=>{});u&&(a(r,l),d=!1,l=r)},onError(e){s?.(e)}});f=i,u||f()}catch(e){s?.(e)}})(),()=>f())})(e,t),watchBlockNumber:t=>ad(e,t),watchContractEvent:t=>(function(e,t){let r,n,a,s,{abi:i,address:o,args:c,batch:l=!0,eventName:u,fromBlock:d,onError:f,onLogs:p,poll:m,pollingInterval:h=e.pollingInterval,strict:b}=t;return(void 0!==m?m:"bigint"==typeof d||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?(r=b??!1,ai((0,n6.stringify)(["watchContractEvent",o,c,l,e.uid,u,h,r,d]),{onLogs:p,onError:f},t=>{let n,a;void 0!==d&&(n=d-1n);let s=!1,f=au(async()=>{if(!s){try{a=await U(e,eY,"createContractEventFilter")({abi:i,address:o,args:c,eventName:u,strict:r,fromBlock:d})}catch{}s=!0;return}try{let s;if(a)s=await U(e,ra,"getFilterChanges")({filter:a});else{let t=await U(e,tX,"getBlockNumber")({});s=n&&n<t?await U(e,t9,"getContractEvents")({abi:i,address:o,args:c,eventName:u,fromBlock:n+1n,toBlock:t,strict:r}):[],n=t}if(0===s.length)return;if(l)t.onLogs(s);else for(let e of s)t.onLogs([e])}catch(e){a&&e instanceof X&&(s=!1),t.onError?.(e)}},{emitOnBegin:!0,interval:h});return async()=>{a&&await U(e,nK,"uninstallFilter")({filter:a}),f()}})):(n=(0,n6.stringify)(["watchContractEvent",o,c,l,e.uid,u,h,b??!1]),a=!0,s=()=>a=!1,ai(n,{onLogs:p,onError:f},t=>((async()=>{try{let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type);return t?t.value:e.transport}return e.transport})(),n=u?eX({abi:i,eventName:u,args:c}):[],{unsubscribe:l}=await r.subscribe({params:["logs",{address:o,topics:n}],onData(e){if(!a)return;let r=e.result;try{let{eventName:e,args:n}=t6({abi:i,data:r.data,topics:r.topics,strict:b}),a=t3(r,{args:n,eventName:e});t.onLogs([a])}catch(s){let e,n;if(s instanceof D.DecodeLogDataMismatch||s instanceof D.DecodeLogTopicsMismatch){if(b)return;e=s.abiItem.name,n=s.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let a=t3(r,{args:n?[]:{},eventName:e});t.onLogs([a])}},onError(e){t.onError?.(e)}});s=l,a||s()}catch(e){f?.(e)}})(),()=>s())))})(e,t),watchEvent:t=>(function(e,{address:t,args:r,batch:n=!0,event:a,events:s,fromBlock:i,onError:o,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:d}){let f,p,m=void 0!==l?l:"bigint"==typeof i||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),h=d??!1;return m?ai((0,n6.stringify)(["watchEvent",t,r,n,e.uid,a,u,i]),{onLogs:c,onError:o},o=>{let c,l;void 0!==i&&(c=i-1n);let d=!1,f=au(async()=>{if(!d){try{l=await U(e,e0,"createEventFilter")({address:t,args:r,event:a,events:s,strict:h,fromBlock:i})}catch{}d=!0;return}try{let i;if(l)i=await U(e,ra,"getFilterChanges")({filter:l});else{let n=await U(e,tX,"getBlockNumber")({});i=c&&c!==n?await U(e,t8,"getLogs")({address:t,args:r,event:a,events:s,fromBlock:c+1n,toBlock:n}):[],c=n}if(0===i.length)return;if(n)o.onLogs(i);else for(let e of i)o.onLogs([e])}catch(e){l&&e instanceof X&&(d=!1),o.onError?.(e)}},{emitOnBegin:!0,interval:u});return async()=>{l&&await U(e,nK,"uninstallFilter")({filter:l}),f()}}):(f=!0,p=()=>f=!1,(async()=>{try{let n=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type);return t?t.value:e.transport}return e.transport})(),i=s??(a?[a]:void 0),l=[];i&&(l=[i.flatMap(e=>eX({abi:[e],eventName:e.name,args:r}))],a&&(l=l[0]));let{unsubscribe:u}=await n.subscribe({params:["logs",{address:t,topics:l}],onData(e){if(!f)return;let t=e.result;try{let{eventName:e,args:r}=t6({abi:i??[],data:t.data,topics:t.topics,strict:h}),n=t3(t,{args:r,eventName:e});c([n])}catch(a){let e,r;if(a instanceof D.DecodeLogDataMismatch||a instanceof D.DecodeLogTopicsMismatch){if(d)return;e=a.abiItem.name,r=a.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let n=t3(t,{args:r?[]:{},eventName:e});c([n])}},onError(e){o?.(e)}});p=u,f||p()}catch(e){o?.(e)}})(),()=>p())})(e,t),watchPendingTransactions:t=>(function(e,{batch:t=!0,onError:r,onTransactions:n,poll:a,pollingInterval:s=e.pollingInterval}){let i,o;return(void 0!==a?a:"webSocket"!==e.transport.type)?ai((0,n6.stringify)(["watchPendingTransactions",e.uid,t,s]),{onTransactions:n,onError:r},r=>{let n,a=au(async()=>{try{if(!n)try{n=await U(e,e1,"createPendingTransactionFilter")({});return}catch(e){throw a(),e}let s=await U(e,ra,"getFilterChanges")({filter:n});if(0===s.length)return;if(t)r.onTransactions(s);else for(let e of s)r.onTransactions([e])}catch(e){r.onError?.(e)}},{emitOnBegin:!0,interval:s});return async()=>{n&&await U(e,nK,"uninstallFilter")({filter:n}),a()}}):(i=!0,o=()=>i=!1,(async()=>{try{let{unsubscribe:t}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!i)return;let t=e.result;n([t])},onError(e){r?.(e)}});o=t,i||o()}catch(e){r?.(e)}})(),()=>o())})(e,t)}}var ag=R;class aw extends ag.BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}var av=e.i(12401);let ax={current:0,take(){return this.current++},reset(){this.current=0}},aE=new(e.i(51175)).LruMap(8192),aP={block:tv({format:e=>({transactions:e.transactions?.map(e=>{if("string"==typeof e)return e;let t=ty(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,e5.hexToBigInt)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}),stateRoot:e.stateRoot})}),transaction:tg({format(e){let t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,e5.hexToBigInt)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:rf({format:e=>({l1GasPrice:e.l1GasPrice?(0,e5.hexToBigInt)(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?(0,e5.hexToBigInt)(e.l1GasUsed):null,l1Fee:e.l1Fee?(0,e5.hexToBigInt)(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})};var aI=e.i(73782),aA=e.i(44181);function aB(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:a}=e;if(t<=0)throw new aA.InvalidChainIdError({chainId:t});if(a&&!(0,n7.isAddress)(a))throw new n5.InvalidAddressError({address:a});if(n&&n>aI.maxUint256)throw new ti.FeeCapTooHighError({maxFeePerGas:n});if(r&&n&&r>n)throw new ti.TipAboveFeeCapError({maxFeePerGas:n,maxPriorityFeePerGas:r})}function ak(e){if(!e||0===e.length)return[];let t=[];for(let r=0;r<e.length;r++){let{address:n,storageKeys:a}=e[r];for(let e=0;e<a.length;e++)if(a[e].length-2!=64)throw new ta.InvalidStorageKeySizeError({storageKey:a[e]});if(!(0,n7.isAddress)(n,{strict:!1}))throw new n5.InvalidAddressError({address:n});t.push([n,a])}return t}function a$(e,t){let r=t??e,{v:n,yParity:a}=r;if(void 0===r.r||void 0===r.s||void 0===n&&void 0===a)return[];let s=(0,k.trim)(r.r),i=(0,k.trim)(r.s);return["number"==typeof a?a?(0,$.toHex)(1):"0x":0n===n?"0x":1n===n?(0,$.toHex)(1):27n===n?"0x":(0,$.toHex)(1),"0x00"===s?"0x":s,"0x00"===i?"0x":i]}let aT={contracts:{gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters:aP,serializers:{transaction:function(e,t){var r;let n;return"deposit"===(r=e).type||void 0!==r.sourceHash?function(e){!function(e){let{from:t,to:r}=e;if(t&&!(0,n7.isAddress)(t))throw new n5.InvalidAddressError({address:t});if(r&&!(0,n7.isAddress)(r))throw new n5.InvalidAddressError({address:r})}(e);let{sourceHash:t,data:r,from:n,gas:a,isSystemTx:s,mint:i,to:o,value:c}=e,l=[t,n,o??"0x",i?(0,$.toHex)(i):"0x",c?(0,$.toHex)(c):"0x",a?(0,$.toHex)(a):"0x",s?"0x1":"0x",r??"0x"];return(0,C.concatHex)(["0x7e",e9(l)])}(e):"eip1559"===(n=tz(e))?function(e,t){let{chainId:r,gas:n,nonce:a,to:s,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:l,data:u}=e;aB(e);let d=ak(l),f=[(0,$.toHex)(r),a?(0,$.toHex)(a):"0x",c?(0,$.toHex)(c):"0x",o?(0,$.toHex)(o):"0x",n?(0,$.toHex)(n):"0x",s??"0x",i?(0,$.toHex)(i):"0x",u??"0x",d,...a$(e,t)];return(0,C.concatHex)(["0x02",e9(f)])}(e,t):"eip2930"===n?function(e,t){let{chainId:r,gas:n,data:a,nonce:s,to:i,value:o,accessList:c,gasPrice:l}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:a,to:s}=e;if(t<=0)throw new aA.InvalidChainIdError({chainId:t});if(s&&!(0,n7.isAddress)(s))throw new n5.InvalidAddressError({address:s});if(r||a)throw new R.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>aI.maxUint256)throw new ti.FeeCapTooHighError({maxFeePerGas:n})}(e);let u=ak(c),d=[(0,$.toHex)(r),s?(0,$.toHex)(s):"0x",l?(0,$.toHex)(l):"0x",n?(0,$.toHex)(n):"0x",i??"0x",o?(0,$.toHex)(o):"0x",a??"0x",u,...a$(e,t)];return(0,C.concatHex)(["0x01",e9(d)])}(e,t):"eip4844"===n?function(e,t){let{chainId:r,gas:n,nonce:a,to:s,value:i,maxFeePerBlobGas:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=e;!function(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new tH;for(let e of t){let t=(0,tM.size)(e),r=(0,e5.hexToNumber)((0,nY.slice)(e,0,1));if(32!==t)throw new tO({hash:e,size:t});if(1!==r)throw new tS({hash:e,version:r})}}aB(e)}(e);let f=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(void 0===f||void 0===p)){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,$.bytesToHex)(e)),r=e.kzg,n=t$({blobs:t,kzg:r});if(void 0===f&&(f=tN({commitments:n})),void 0===p){let e=tT({blobs:t,commitments:n,kzg:r});p=tj({blobs:t,commitments:n,proofs:e})}}let m=ak(u),h=[(0,$.toHex)(r),a?(0,$.toHex)(a):"0x",l?(0,$.toHex)(l):"0x",c?(0,$.toHex)(c):"0x",n?(0,$.toHex)(n):"0x",s??"0x",i?(0,$.toHex)(i):"0x",d??"0x",m,o?(0,$.toHex)(o):"0x",f??[],...a$(e,t)],b=[],y=[],g=[];if(p)for(let e=0;e<p.length;e++){let{blob:t,commitment:r,proof:n}=p[e];b.push(t),y.push(r),g.push(n)}return(0,C.concatHex)(["0x03",p?e9([h,b,y,g]):e9(h)])}(e,t):"eip7702"===n?function(e,t){let{authorizationList:r,chainId:n,gas:a,nonce:s,to:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=e;!function(e){let{authorizationList:t}=e;if(t)for(let e of t){let{contractAddress:t,chainId:r}=e;if(!(0,n7.isAddress)(t))throw new n5.InvalidAddressError({address:t});if(r<0)throw new aA.InvalidChainIdError({chainId:r})}aB(e)}(e);let f=ak(u),p=function(e){if(!e||0===e.length)return[];let t=[];for(let r of e){let{contractAddress:e,chainId:n,nonce:a,...s}=r;t.push([n?(0,$.toHex)(n):"0x",e,a?(0,$.toHex)(a):"0x",...a$({},s)])}return t}(r);return(0,C.concatHex)(["0x04",e9([(0,$.toHex)(n),s?(0,$.toHex)(s):"0x",l?(0,$.toHex)(l):"0x",c?(0,$.toHex)(c):"0x",a?(0,$.toHex)(a):"0x",i??"0x",o?(0,$.toHex)(o):"0x",d??"0x",f,p,...a$(e,t)])])}(e,t):function(e,t){let{chainId:r=0,gas:n,data:a,nonce:s,to:i,value:o,gasPrice:c}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:a,to:s}=e;if(s&&!(0,n7.isAddress)(s))throw new n5.InvalidAddressError({address:s});if(void 0!==t&&t<=0)throw new aA.InvalidChainIdError({chainId:t});if(r||a)throw new R.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>aI.maxUint256)throw new ti.FeeCapTooHighError({maxFeePerGas:n})}(e);let l=[s?(0,$.toHex)(s):"0x",c?(0,$.toHex)(c):"0x",n?(0,$.toHex)(n):"0x",i??"0x",o?(0,$.toHex)(o):"0x",a??"0x"];if(t){let e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new ta.InvalidLegacyVError({v:t.v});return e})(),n=(0,k.trim)(t.r),a=(0,k.trim)(t.s);l=[...l,(0,$.toHex)(e),"0x00"===n?"0x":n,"0x00"===a?"0x":a]}else r>0&&(l=[...l,(0,$.toHex)(r),"0x","0x"]);return e9(l)}(e,t)}}},aR={formatters:void 0,fees:void 0,serializers:void 0,...{...aT,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...aT.contracts,disputeGameFactory:{1:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{1:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{1:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:0x10ac19f}},l1StandardBridge:{1:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:0x10ac19f}}},sourceId:1}},aN=new Map,aF=new Map;async function aC(e){try{let{walletAddress:t,txHash:r,discordUsername:n}=await e.json();if(!t||!r)return w.NextResponse.json({error:"Missing wallet address or transaction hash"},{status:400});if(!/^0x[a-fA-F0-9]{40}$/.test(t))return w.NextResponse.json({error:"Invalid wallet address format"},{status:400});if(!/^0x[a-fA-F0-9]{64}$/.test(r))return w.NextResponse.json({error:"Invalid transaction hash format"},{status:400});let a=function(e){let{key:t="public",name:r="Public Client"}=e;return(function(e){let{batch:t,cacheTime:r=e.pollingInterval??4e3,ccipRead:n,key:a="base",name:s="Base Client",pollingInterval:i=4e3,type:o="base"}=e,c=e.chain,l=e.account?(0,v.parseAccount)(e.account):void 0,{config:u,request:d,value:f}=e.transport({chain:c,pollingInterval:i}),p={account:l,batch:t,cacheTime:r,ccipRead:n,chain:c,key:a,name:s,pollingInterval:i,request:d,transport:{...u,...f},type:o,uid:E()};return Object.assign(p,{extend:function e(t){return r=>{let n=r(t);for(let e in p)delete n[e];let a={...t,...n};return Object.assign(a,{extend:e(a)})}}(p)})})({...e,key:t,name:r,type:"publicClient"}).extend(ay)}({chain:aR,transport:function(e,t={}){let{batch:r,fetchOptions:n,key:a="http",methods:s,name:i="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:c,retryDelay:l}=t;return({chain:u,retryCount:d,timeout:f})=>{let{batchSize:p=1e3,wait:m=0}="object"==typeof r?r:{},h=t.retryCount??d,b=f??t.timeout??1e4,y=e||u?.rpcUrls.default.http[0];if(!y)throw new aw;let g=function(e,t={}){return{async request(r){let{body:n,onRequest:a=t.onRequest,onResponse:s=t.onResponse,timeout:i=t.timeout??1e4}=r,o={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:l,signal:u}=o;try{let t,r=await function(e,{errorInstance:t=Error("timed out"),timeout:r,signal:n}){return new Promise((a,s)=>{(async()=>{let i;try{let o=new AbortController;r>0&&(i=setTimeout(()=>{n?o.abort():s(t)},r)),a(await e({signal:o?.signal||null}))}catch(e){e?.name==="AbortError"&&s(t),s(e)}finally{clearTimeout(i)}})()})}(async({signal:t})=>{let r={...o,body:Array.isArray(n)?(0,n6.stringify)(n.map(e=>({jsonrpc:"2.0",id:e.id??ax.take(),...e}))):(0,n6.stringify)({jsonrpc:"2.0",id:n.id??ax.take(),...n}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(i>0?t:null)},s=new Request(e,r),d=await a?.(s,r)??{...r,url:e};return await fetch(d.url??e,d)},{errorInstance:new G.TimeoutError({body:n,url:e}),timeout:i,signal:!0});if(s&&await s(r),r.headers.get("Content-Type")?.startsWith("application/json"))t=await r.json();else{t=await r.text();try{t=JSON.parse(t||"{}")}catch(e){if(r.ok)throw e;t={error:t}}}if(!r.ok)throw new G.HttpRequestError({body:n,details:(0,n6.stringify)(t.error)||r.statusText,headers:r.headers,status:r.status,url:e});return t}catch(t){if(t instanceof G.HttpRequestError||t instanceof G.TimeoutError)throw t;throw new G.HttpRequestError({body:n,cause:t,url:e})}}}}(y,{fetchOptions:n,onRequest:o,onResponse:c,timeout:b});return function({key:e,methods:t,name:r,request:n,retryCount:a=3,retryDelay:s=150,timeout:i,type:o},c){return{config:{key:e,name:r,request:n,retryCount:a,retryDelay:s,timeout:i,type:o},request:function(e,t={}){return async(r,n={})=>{let{dedupe:a=!1,methods:s,retryDelay:i=150,retryCount:o=3,uid:c}={...t,...n},{method:l}=r;if(s?.exclude?.includes(l)||s?.include&&!s.include.includes(l))throw new et(Error("method not supported"),{method:l});let u=a?(0,$.stringToHex)(`${c}.${(0,n6.stringify)(r)}`):void 0;return function(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(aE.get(r))return aE.get(r);let n=e().finally(()=>aE.delete(r));return aE.set(r,n),n}(()=>al(async()=>{try{return await e(r)}catch(e){switch(e.code){case V.code:throw new V(e);case Z.code:throw new Z(e);case W.code:throw new W(e,{method:r.method});case K.code:throw new K(e);case J.code:throw new J(e);case X.code:throw new X(e);case Q.code:throw new Q(e);case Y.code:throw new Y(e);case ee.code:throw new ee(e);case et.code:throw new et(e,{method:r.method});case er.code:throw new er(e);case en.code:throw new en(e);case ea.code:throw new ea(e);case es.code:throw new es(e);case ei.code:throw new ei(e);case eo.code:throw new eo(e);case ec.code:throw new ec(e);case el.code:throw new el(e);case 5e3:throw new ea(e);default:if(e instanceof R.BaseError)throw e;throw new eu(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof G.HttpRequestError){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e)}return~~(1<<e)*i},retryCount:o,shouldRetry:({error:e})=>{var t;return t=e,"code"in t&&"number"==typeof t.code?-1===t.code||t.code===er.code||t.code===J.code:!(t instanceof G.HttpRequestError)||!t.status||403===t.status||408===t.status||413===t.status||429===t.status||500===t.status||502===t.status||503===t.status||504===t.status||!1}}),{enabled:a,id:u})}}(n,{methods:t,retryCount:a,retryDelay:s,uid:E()}),value:c}}({key:a,methods:s,name:i,async request({method:e,params:t}){let n={method:e,params:t},{schedule:a}=(0,av.createBatchScheduler)({id:y,wait:m,shouldSplitBatch:e=>e.length>p,fn:e=>g.request({body:e}),sort:(e,t)=>e.id-t.id}),s=async e=>r?a(e):[await g.request({body:e})],[{error:i,result:o}]=await s(n);if(i)throw new G.RpcRequestError({body:n,error:i,url:y});return o},retryCount:h,retryDelay:l,timeout:b,type:"http"},{fetchOptions:n,url:y})}}("https://mainnet.base.org")}),s=await a.getTransactionReceipt({hash:r});if(!s||"success"!==s.status)return w.NextResponse.json({error:"Transaction not found or failed"},{status:400});if(s.to?.toLowerCase()!=="0x9c23d0f34606204202a9b88b2cd8dbba24192ae5")return w.NextResponse.json({error:"Transaction not to treasury address"},{status:400});for(let[e,t]of aN)if(t.txHash===r)return w.NextResponse.json({error:"Transaction already used for verification"},{status:400});let i="Daily Pass",o="daily",c=24,l=s.logs.find(e=>"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"===e.topics[0]&&"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913"===e.address.toLowerCase());if(l){let e=parseInt(l.data,16);e>=3e8?(i="Lifetime Pass",o="lifetime",c=876e3):e>=5e7?(i="Monthly Pass",o="monthly",c=720):e>=15e6?(i="Weekly Pass",o="weekly",c=168):(i="Daily Pass",o="daily",c=24)}let u=Date.now(),d=u+60*c*6e4;if(n){let e=n.toLowerCase().trim();aN.set(e,{wallet:t.toLowerCase(),plan:i,planId:o,timestamp:u,expiresAt:d,txHash:r}),aF.set(t.toLowerCase(),e)}return aF.set(t.toLowerCase(),n?.toLowerCase().trim()||""),w.NextResponse.json({success:!0,verified:!0,plan:i,planId:o,durationHours:c,expiresAt:d,discordUsername:n||null})}catch(e){return console.error("Verification error:",e),w.NextResponse.json({error:"Verification failed"},{status:500})}}async function aH(e){try{let{searchParams:t}=new URL(e.url),r=t.get("wallet"),n=t.get("discord");if(n){let e=n.toLowerCase().trim(),t=aN.get(e);if(t){let r=Date.now();if(t.expiresAt>r)return w.NextResponse.json({verified:!0,plan:t.plan,planId:t.planId,expiresAt:t.expiresAt,wallet:t.wallet,discordInviteUrl:process.env.DISCORD_INVITE_URL||"https://discord.gg/8v3zw8829K"});aN.delete(e)}return w.NextResponse.json({verified:!1,discordInviteUrl:null})}if(r){let e=aF.get(r.toLowerCase());if(e){let t=aN.get(e);if(t&&t.expiresAt>Date.now())return w.NextResponse.json({verified:!0,plan:t.plan,planId:t.planId,expiresAt:t.expiresAt,discordUsername:e,discordInviteUrl:process.env.DISCORD_INVITE_URL||"https://discord.gg/8v3zw8829K"})}return w.NextResponse.json({verified:!1,discordInviteUrl:null})}let a={},s=Date.now();for(let[e,t]of aN)t.expiresAt>s?a[e]={plan:t.plan,planId:t.planId,expiresAt:t.expiresAt,wallet:t.wallet}:aN.delete(e);return w.NextResponse.json({paidUsers:a,count:Object.keys(a).length})}catch(e){return console.error("Check verification error:",e),w.NextResponse.json({error:"Check failed"},{status:500})}}e.s(["GET",()=>aH,"POST",()=>aC],18693);var aO=e.i(18693);let aS=new r.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/verify-discord/route",pathname:"/api/verify-discord",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/Desktop/srus/output/workspace-99190f76-187d-40a3-8ab6-30b756622125/src/app/api/verify-discord/route.ts",nextConfigOutput:"standalone",userland:aO}),{workAsyncStorage:aM,workUnitAsyncStorage:aj,serverHooks:az}=aS;function aU(){return(0,a.patchFetch)({workAsyncStorage:aM,workUnitAsyncStorage:aj})}async function aD(e,t,r){aS.isDev&&(0,s.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let a="/api/verify-discord/route";a=a.replace(/\/index$/,"")||"/";let w=await aS.prepare(e,t,{srcPage:a,multiZoneDraftMode:!1});if(!w)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:v,params:x,nextConfig:E,parsedUrl:P,isDraftMode:I,prerenderManifest:A,routerServerContext:B,isOnDemandRevalidate:k,revalidateOnlyGenerated:$,resolvedPathname:T,clientReferenceManifest:R,serverActionsManifest:N}=w,F=(0,c.normalizeAppPath)(a),C=!!(A.dynamicRoutes[F]||A.routes[T]),H=async()=>((null==B?void 0:B.render404)?await B.render404(e,t,P,!1):t.end("This page could not be found"),null);if(C&&!I){let e=!!A.routes[T],t=A.dynamicRoutes[F];if(t&&!1===t.fallback&&!e){if(E.experimental.adapterPath)return await H();throw new y.NoFallbackError}}let O=null;!C||aS.isDev||I||(O="/index"===(O=T)?"/":O);let S=!0===aS.isDev||!C,M=C&&!S;N&&R&&(0,o.setManifestsSingleton)({page:a,clientReferenceManifest:R,serverActionsManifest:N});let j=e.method||"GET",z=(0,i.getTracer)(),U=z.getActiveScopeSpan(),D={params:x,prerenderManifest:A,renderOpts:{experimental:{authInterrupts:!!E.experimental.authInterrupts},cacheComponents:!!E.cacheComponents,supportsDynamicResponse:S,incrementalCache:(0,s.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:E.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n,a)=>aS.onRequestError(e,t,n,a,B)},sharedContext:{buildId:v}},G=new l.NodeNextRequest(e),q=new l.NodeNextResponse(t),_=u.NextRequestAdapter.fromNodeNextRequest(G,(0,u.signalFromNodeResponse)(t));try{let o=async e=>aS.handle(_,D).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=z.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==d.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=r.get("next.route");if(n){let t=`${j} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":t}),e.updateName(t)}else e.updateName(`${j} ${a}`)}),c=!!(0,s.getRequestMeta)(e,"minimalMode"),l=async s=>{var i,l;let u=async({previousCacheEntry:n})=>{try{if(!c&&k&&$&&!n)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let a=await o(s);e.fetchMetrics=D.renderOpts.fetchMetrics;let i=D.renderOpts.pendingWaitUntil;i&&r.waitUntil&&(r.waitUntil(i),i=void 0);let l=D.renderOpts.collectedTags;if(!C)return await (0,p.sendResponse)(G,q,a,D.renderOpts.pendingWaitUntil),null;{let e=await a.blob(),t=(0,m.toNodeOutgoingHttpHeaders)(a.headers);l&&(t[b.NEXT_CACHE_TAGS_HEADER]=l),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==D.renderOpts.collectedRevalidate&&!(D.renderOpts.collectedRevalidate>=b.INFINITE_CACHE)&&D.renderOpts.collectedRevalidate,n=void 0===D.renderOpts.collectedExpire||D.renderOpts.collectedExpire>=b.INFINITE_CACHE?void 0:D.renderOpts.collectedExpire;return{value:{kind:g.CachedRouteKind.APP_ROUTE,status:a.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==n?void 0:n.isStale)&&await aS.onRequestError(e,t,{routerKind:"App Router",routePath:a,routeType:"route",revalidateReason:(0,f.getRevalidateReason)({isStaticGeneration:M,isOnDemandRevalidate:k})},!1,B),t}},d=await aS.handleResponse({req:e,nextConfig:E,cacheKey:O,routeKind:n.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:A,isRoutePPREnabled:!1,isOnDemandRevalidate:k,revalidateOnlyGenerated:$,responseGenerator:u,waitUntil:r.waitUntil,isMinimalMode:c});if(!C)return null;if((null==d||null==(i=d.value)?void 0:i.kind)!==g.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(l=d.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});c||t.setHeader("x-nextjs-cache",k?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),I&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let y=(0,m.fromNodeOutgoingHttpHeaders)(d.value.headers);return c&&C||y.delete(b.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||y.get("Cache-Control")||y.set("Cache-Control",(0,h.getCacheControlHeader)(d.cacheControl)),await (0,p.sendResponse)(G,q,new Response(d.value.body,{headers:y,status:d.value.status||200})),null};U?await l(U):await z.withPropagatedContext(e.headers,()=>z.trace(d.BaseServerSpan.handleRequest,{spanName:`${j} ${a}`,kind:i.SpanKind.SERVER,attributes:{"http.method":j,"http.target":e.url}},l))}catch(t){if(t instanceof y.NoFallbackError||await aS.onRequestError(e,t,{routerKind:"App Router",routePath:F,routeType:"route",revalidateReason:(0,f.getRevalidateReason)({isStaticGeneration:M,isOnDemandRevalidate:k})},!1,B),C)throw t;return await (0,p.sendResponse)(G,q,new Response(null,{status:500})),null}}e.s(["handler",()=>aD,"patchFetch",()=>aU,"routeModule",()=>aS,"serverHooks",()=>az,"workAsyncStorage",()=>aM,"workUnitAsyncStorage",()=>aj],79048)}];

//# sourceMappingURL=412ab_next_dist_esm_build_templates_app-route_c2bcd1ef.js.map