(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78346,e=>{"use strict";var t=e.i(82577),r=e.i(13522);let s=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},o=[],a={toasts:[]};function c(e){a=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(a,e),o.forEach(e=>{e(a)})}function l({...e}){let t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}var u=e.i(1888),h=e.i(20969),d=e.i(42668),p=e.i(14163),f=e.i(55652),m=e.i(54412),y=e.i(87299),g=e.i(13835),v=e.i(4469),b=e.i(73504),w=e.i(69733),x=e.i(7104),_=e.i(59967),E="ToastProvider",[T,k,C]=(0,p.createCollection)("Toast"),[S,A]=(0,f.createContextScope)("Toast",[C]),[O,R]=S(E),P=e=>{let{__scopeToast:s,label:i="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:c}=e,[l,u]=r.useState(null),[h,d]=r.useState(0),p=r.useRef(!1),f=r.useRef(!1);return i.trim()||console.error(`Invalid prop \`label\` supplied to \`${E}\`. Expected non-empty \`string\`.`),(0,t.jsx)(T.Provider,{scope:s,children:(0,t.jsx)(O,{scope:s,label:i,duration:n,swipeDirection:o,swipeThreshold:a,toastCount:h,viewport:l,onViewportChange:u,onToastAdd:r.useCallback(()=>d(e=>e+1),[]),onToastRemove:r.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:c})})};P.displayName=E;var N="ToastViewport",B=["F8"],D="toast.viewportPause",L="toast.viewportResume",H=r.forwardRef((e,s)=>{let{__scopeToast:i,hotkey:n=B,label:o="Notifications ({hotkey})",...a}=e,c=R(N,i),l=k(i),u=r.useRef(null),h=r.useRef(null),p=r.useRef(null),f=r.useRef(null),y=(0,d.useComposedRefs)(s,f,c.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=c.toastCount>0;r.useEffect(()=>{let e=e=>{0!==n.length&&n.every(t=>e[t]||e.code===t)&&f.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),r.useEffect(()=>{let e=u.current,t=f.current;if(b&&e&&t){let r=()=>{if(!c.isClosePausedRef.current){let e=new CustomEvent(D);t.dispatchEvent(e),c.isClosePausedRef.current=!0}},s=()=>{if(c.isClosePausedRef.current){let e=new CustomEvent(L);t.dispatchEvent(e),c.isClosePausedRef.current=!1}},i=t=>{e.contains(t.relatedTarget)||s()},n=()=>{e.contains(document.activeElement)||s()};return e.addEventListener("focusin",r),e.addEventListener("focusout",i),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",n),window.addEventListener("blur",r),window.addEventListener("focus",s),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",n),window.removeEventListener("blur",r),window.removeEventListener("focus",s)}}},[b,c.isClosePausedRef]);let w=r.useCallback(({tabbingDirection:e})=>{let t=l().map(t=>{let r=t.ref.current,s=[r,...function(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}(r)];return"forwards"===e?s:s.reverse()});return("forwards"===e?t.reverse():t).flat()},[l]);return r.useEffect(()=>{let e=f.current;if(e){let t=t=>{let r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){let r=document.activeElement,s=t.shiftKey;if(t.target===e&&s)return void h.current?.focus();let i=w({tabbingDirection:s?"backwards":"forwards"}),n=i.findIndex(e=>e===r);ee(i.slice(n+1))?t.preventDefault():s?h.current?.focus():p.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[l,w]),(0,t.jsxs)(m.Branch,{ref:u,role:"region","aria-label":o.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&(0,t.jsx)(q,{ref:h,onFocusFromOutsideViewport:()=>{ee(w({tabbingDirection:"forwards"}))}}),(0,t.jsx)(T.Slot,{scope:i,children:(0,t.jsx)(v.Primitive.ol,{tabIndex:-1,...a,ref:y})}),b&&(0,t.jsx)(q,{ref:p,onFocusFromOutsideViewport:()=>{ee(w({tabbingDirection:"backwards"}))}})]})});H.displayName=N;var I="ToastFocusProxy",q=r.forwardRef((e,r)=>{let{__scopeToast:s,onFocusFromOutsideViewport:i,...n}=e,o=R(I,s);return(0,t.jsx)(_.VisuallyHidden,{tabIndex:0,...n,ref:r,style:{position:"fixed"},onFocus:e=>{let t=e.relatedTarget;o.viewport?.contains(t)||i()}})});q.displayName=I;var j="Toast",F=r.forwardRef((e,r)=>{let{forceMount:s,open:i,defaultOpen:n,onOpenChange:o,...a}=e,[c,l]=(0,w.useControllableState)({prop:i,defaultProp:n??!0,onChange:o,caller:j});return(0,t.jsx)(g.Presence,{present:s||c,children:(0,t.jsx)(K,{open:c,...a,ref:r,onClose:()=>l(!1),onPause:(0,b.useCallbackRef)(e.onPause),onResume:(0,b.useCallbackRef)(e.onResume),onSwipeStart:(0,h.composeEventHandlers)(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:(0,h.composeEventHandlers)(e.onSwipeMove,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)}),onSwipeCancel:(0,h.composeEventHandlers)(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:(0,h.composeEventHandlers)(e.onSwipeEnd,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),l(!1)})})})});F.displayName=j;var[M,U]=S(j,{onClose(){}}),K=r.forwardRef((e,s)=>{let{__scopeToast:i,type:n="foreground",duration:o,open:a,onClose:c,onEscapeKeyDown:l,onPause:p,onResume:f,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:w,onSwipeEnd:x,..._}=e,E=R(j,i),[k,C]=r.useState(null),S=(0,d.useComposedRefs)(s,e=>C(e)),A=r.useRef(null),O=r.useRef(null),P=o||E.duration,N=r.useRef(0),B=r.useRef(P),H=r.useRef(0),{onToastAdd:I,onToastRemove:q}=E,F=(0,b.useCallbackRef)(()=>{k?.contains(document.activeElement)&&E.viewport?.focus(),c()}),U=r.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(H.current),N.current=new Date().getTime(),H.current=window.setTimeout(F,e))},[F]);r.useEffect(()=>{let e=E.viewport;if(e){let t=()=>{U(B.current),f?.()},r=()=>{let e=new Date().getTime()-N.current;B.current=B.current-e,window.clearTimeout(H.current),p?.()};return e.addEventListener(D,r),e.addEventListener(L,t),()=>{e.removeEventListener(D,r),e.removeEventListener(L,t)}}},[E.viewport,P,p,f,U]),r.useEffect(()=>{a&&!E.isClosePausedRef.current&&U(P)},[a,P,E.isClosePausedRef,U]),r.useEffect(()=>(I(),()=>q()),[I,q]);let K=r.useMemo(()=>k?function e(t){let r=[];return Array.from(t.childNodes).forEach(t=>{var s;if(t.nodeType===t.TEXT_NODE&&t.textContent&&r.push(t.textContent),(s=t).nodeType===s.ELEMENT_NODE){let s=t.ariaHidden||t.hidden||"none"===t.style.display,i=""===t.dataset.radixToastAnnounceExclude;if(!s)if(i){let e=t.dataset.radixToastAnnounceAlt;e&&r.push(e)}else r.push(...e(t))}}),r}(k):null,[k]);return E.viewport?(0,t.jsxs)(t.Fragment,{children:[K&&(0,t.jsx)(Q,{__scopeToast:i,role:"status","aria-live":"foreground"===n?"assertive":"polite",children:K}),(0,t.jsx)(M,{scope:i,onClose:F,children:u.createPortal((0,t.jsx)(T.ItemSlot,{scope:i,children:(0,t.jsx)(m.Root,{asChild:!0,onEscapeKeyDown:(0,h.composeEventHandlers)(l,()=>{E.isFocusedToastEscapeKeyDownRef.current||F(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,t.jsx)(v.Primitive.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":E.swipeDirection,..._,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:(0,h.composeEventHandlers)(e.onKeyDown,e=>{"Escape"===e.key&&(l?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:(0,h.composeEventHandlers)(e.onPointerDown,e=>{0===e.button&&(A.current={x:e.clientX,y:e.clientY})}),onPointerMove:(0,h.composeEventHandlers)(e.onPointerMove,e=>{if(!A.current)return;let t=e.clientX-A.current.x,r=e.clientY-A.current.y,s=!!O.current,i=["left","right"].includes(E.swipeDirection),n=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,o=i?n(0,t):0,a=i?0:n(0,r),c="touch"===e.pointerType?10:2,l={x:o,y:a},u={originalEvent:e,delta:l};s?(O.current=l,X("toast.swipeMove",g,u,{discrete:!1})):Z(l,E.swipeDirection,c)?(O.current=l,X("toast.swipeStart",y,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>c||Math.abs(r)>c)&&(A.current=null)}),onPointerUp:(0,h.composeEventHandlers)(e.onPointerUp,e=>{let t=O.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),O.current=null,A.current=null,t){let r=e.currentTarget,s={originalEvent:e,delta:t};Z(t,E.swipeDirection,E.swipeThreshold)?X("toast.swipeEnd",x,s,{discrete:!0}):X("toast.swipeCancel",w,s,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),Q=e=>{let{__scopeToast:s,children:i,...n}=e,o=R(j,s),[a,c]=r.useState(!1),[l,u]=r.useState(!1);return function(e=()=>{}){let t=(0,b.useCallbackRef)(e);(0,x.useLayoutEffect)(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}(()=>c(!0)),r.useEffect(()=>{let e=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(e)},[]),l?null:(0,t.jsx)(y.Portal,{asChild:!0,children:(0,t.jsx)(_.VisuallyHidden,{...n,children:a&&(0,t.jsxs)(t.Fragment,{children:[o.label," ",i]})})})},V=r.forwardRef((e,r)=>{let{__scopeToast:s,...i}=e;return(0,t.jsx)(v.Primitive.div,{...i,ref:r})});V.displayName="ToastTitle";var W=r.forwardRef((e,r)=>{let{__scopeToast:s,...i}=e;return(0,t.jsx)(v.Primitive.div,{...i,ref:r})});W.displayName="ToastDescription";var $="ToastAction",z=r.forwardRef((e,r)=>{let{altText:s,...i}=e;return s.trim()?(0,t.jsx)(J,{altText:s,asChild:!0,children:(0,t.jsx)(Y,{...i,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${$}\`. Expected non-empty \`string\`.`),null)});z.displayName=$;var G="ToastClose",Y=r.forwardRef((e,r)=>{let{__scopeToast:s,...i}=e,n=U(G,s);return(0,t.jsx)(J,{asChild:!0,children:(0,t.jsx)(v.Primitive.button,{type:"button",...i,ref:r,onClick:(0,h.composeEventHandlers)(e.onClick,n.onClose)})})});Y.displayName=G;var J=r.forwardRef((e,r)=>{let{__scopeToast:s,altText:i,...n}=e;return(0,t.jsx)(v.Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...n,ref:r})});function X(e,t,r,{discrete:s}){let i=r.originalEvent.currentTarget,n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),s?(0,v.dispatchDiscreteCustomEvent)(i,n):i.dispatchEvent(n)}var Z=(e,t,r=0)=>{let s=Math.abs(e.x),i=Math.abs(e.y),n=s>i;return"left"===t||"right"===t?n&&s>r:!n&&i>r};function ee(e){let t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var et=e.i(74259),er=e.i(71837),er=er,es=e.i(76048);let ei=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(H,{ref:s,className:(0,es.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));ei.displayName=H.displayName;let en=(0,et.cva)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eo=r.forwardRef(({className:e,variant:r,...s},i)=>(0,t.jsx)(F,{ref:i,className:(0,es.cn)(en({variant:r}),e),...s}));eo.displayName=F.displayName,r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(z,{ref:s,className:(0,es.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r})).displayName=z.displayName;let ea=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(Y,{ref:s,className:(0,es.cn)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:(0,t.jsx)(er.default,{className:"h-4 w-4"})}));ea.displayName=Y.displayName;let ec=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(V,{ref:s,className:(0,es.cn)("text-sm font-semibold [&+div]:text-xs",e),...r}));ec.displayName=V.displayName;let el=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(W,{ref:s,className:(0,es.cn)("text-sm opacity-90",e),...r}));function eu(){let{toasts:e}=function(){let[e,t]=r.useState(a);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:l,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}();return(0,t.jsxs)(P,{children:[e.map(function({id:e,title:r,description:s,action:i,...n}){return(0,t.jsxs)(eo,{...n,children:[(0,t.jsxs)("div",{className:"grid gap-1",children:[r&&(0,t.jsx)(ec,{children:r}),s&&(0,t.jsx)(el,{children:s})]}),i,(0,t.jsx)(ea,{})]},e)}),(0,t.jsx)(ei,{})]})}el.displayName=W.displayName,e.s(["Toaster",()=>eu],78346)},55022,e=>{"use strict";var t=e.i(82577),r=e.i(13522),s=(e,t,r,s,i,n,o,a)=>{let c=document.documentElement,l=["light","dark"];function u(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,s=r&&n?i.map(e=>n[e]||e):i;r?(c.classList.remove(...s),c.classList.add(n&&n[t]?n[t]:t)):c.setAttribute(e,t)}),r=t,a&&l.includes(r)&&(c.style.colorScheme=r)}if(s)u(s);else try{let e=localStorage.getItem(t)||r,s=o&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(s)}catch(e){}},i=["light","dark"],n="(prefers-color-scheme: dark)",o="u"<typeof window,a=r.createContext(void 0),c=e=>r.useContext(a)?r.createElement(r.Fragment,null,e.children):r.createElement(u,{...e}),l=["light","dark"],u=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:s=!0,enableColorScheme:o=!0,storageKey:c="theme",themes:u=l,defaultTheme:m=s?"system":"light",attribute:y="data-theme",value:g,children:v,nonce:b,scriptProps:w})=>{let[x,_]=r.useState(()=>d(c,m)),[E,T]=r.useState(()=>"system"===x?f():x),k=g?Object.values(g):u,C=r.useCallback(e=>{let r=e;if(!r)return;"system"===e&&s&&(r=f());let n=g?g[r]:r,a=t?p(b):null,c=document.documentElement,l=e=>{"class"===e?(c.classList.remove(...k),n&&c.classList.add(n)):e.startsWith("data-")&&(n?c.setAttribute(e,n):c.removeAttribute(e))};if(Array.isArray(y)?y.forEach(l):l(y),o){let e=i.includes(m)?m:null,t=i.includes(r)?r:e;c.style.colorScheme=t}null==a||a()},[b]),S=r.useCallback(e=>{let t="function"==typeof e?e(x):e;_(t);try{localStorage.setItem(c,t)}catch(e){}},[x]),A=r.useCallback(t=>{T(f(t)),"system"===x&&s&&!e&&C("system")},[x,e]);r.useEffect(()=>{let e=window.matchMedia(n);return e.addListener(A),A(e),()=>e.removeListener(A)},[A]),r.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?_(e.newValue):S(m))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[S]),r.useEffect(()=>{C(null!=e?e:x)},[e,x]);let O=r.useMemo(()=>({theme:x,setTheme:S,forcedTheme:e,resolvedTheme:"system"===x?E:x,themes:s?[...u,"system"]:u,systemTheme:s?E:void 0}),[x,S,e,E,s,u]);return r.createElement(a.Provider,{value:O},r.createElement(h,{forcedTheme:e,storageKey:c,attribute:y,enableSystem:s,enableColorScheme:o,defaultTheme:m,value:g,themes:u,nonce:b,scriptProps:w}),v)},h=r.memo(({forcedTheme:e,storageKey:t,attribute:i,enableSystem:n,enableColorScheme:o,defaultTheme:a,value:c,themes:l,nonce:u,scriptProps:h})=>{let d=JSON.stringify([i,t,a,e,l,c,n,o]).slice(1,-1);return r.createElement("script",{...h,suppressHydrationWarning:!0,nonce:"u"<typeof window?u:"",dangerouslySetInnerHTML:{__html:`(${s.toString()})(${d})`}})}),d=(e,t)=>{let r;if(!o){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},p=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},f=e=>(e||(e=window.matchMedia(n)),e.matches?"dark":"light");function m({children:e,...r}){return(0,t.jsx)(c,{...r,children:e})}e.s(["ThemeProvider",()=>m],55022)},97638,e=>{"use strict";var t=e.i(82577),r=e.i(13522),s=e.i(83681),i=e.i(5747),n=e.i(67598),o=e.i(16134),a=e.i(34578),c=e.i(83387),l=e.i(56176);let u={block:(0,a.defineBlock)({format:e=>({transactions:e.transactions?.map(e=>{if("string"==typeof e)return e;let t=(0,c.formatTransaction)(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,o.hexToBigInt)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}),stateRoot:e.stateRoot})}),transaction:(0,c.defineTransaction)({format(e){let t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,o.hexToBigInt)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:(0,l.defineTransactionReceipt)({format:e=>({l1GasPrice:e.l1GasPrice?(0,o.hexToBigInt)(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?(0,o.hexToBigInt)(e.l1GasUsed):null,l1Fee:e.l1Fee?(0,o.hexToBigInt)(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})};var h=e.i(17763),d=e.i(35664),p=e.i(16187),f=e.i(92430),m=e.i(97875),y=e.i(19442),g=e.i(21004),v=e.i(39199),b=e.i(81813),w=e.i(14899),x=e.i(82202),_=e.i(83787),E=e.i(69306),T=e.i(49196),k=e.i(56769),C=e.i(6936),S=e.i(65444),A=e.i(10970),O=e.i(624);function R(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:s,to:i}=e;if(t<=0)throw new C.InvalidChainIdError({chainId:t});if(i&&!(0,d.isAddress)(i))throw new h.InvalidAddressError({address:i});if(s&&s>E.maxUint256)throw new S.FeeCapTooHighError({maxFeePerGas:s});if(r&&s&&r>s)throw new S.TipAboveFeeCapError({maxFeePerGas:s,maxPriorityFeePerGas:r})}var P=e.i(50508);function N(e){if(!e||0===e.length)return[];let t=[];for(let r=0;r<e.length;r++){let{address:s,storageKeys:i}=e[r];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new y.InvalidStorageKeySizeError({storageKey:i[e]});if(!(0,d.isAddress)(s,{strict:!1}))throw new h.InvalidAddressError({address:s});t.push([s,i])}return t}function B(e,t){let r=t??e,{v:s,yParity:i}=r;if(void 0===r.r||void 0===r.s||void 0===s&&void 0===i)return[];let n=(0,x.trim)(r.r),o=(0,x.trim)(r.s);return["number"==typeof i?i?(0,f.toHex)(1):"0x":0n===s?"0x":1n===s?(0,f.toHex)(1):27n===s?"0x":(0,f.toHex)(1),"0x00"===n?"0x":n,"0x00"===o?"0x":o]}let D={contracts:{gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters:u,serializers:{transaction:function(e,t){var r;let s;return"deposit"===(r=e).type||void 0!==r.sourceHash?function(e){!function(e){let{from:t,to:r}=e;if(t&&!(0,d.isAddress)(t))throw new h.InvalidAddressError({address:t});if(r&&!(0,d.isAddress)(r))throw new h.InvalidAddressError({address:r})}(e);let{sourceHash:t,data:r,from:s,gas:i,isSystemTx:n,mint:o,to:a,value:c}=e,l=[t,s,a??"0x",o?(0,f.toHex)(o):"0x",c?(0,f.toHex)(c):"0x",i?(0,f.toHex)(i):"0x",n?"0x1":"0x",r??"0x"];return(0,p.concatHex)(["0x7e",(0,m.toRlp)(l)])}(e):"eip1559"===(s=(0,P.getTransactionType)(e))?function(e,t){let{chainId:r,gas:s,nonce:i,to:n,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=e;R(e);let h=N(l),d=[(0,f.toHex)(r),i?(0,f.toHex)(i):"0x",c?(0,f.toHex)(c):"0x",a?(0,f.toHex)(a):"0x",s?(0,f.toHex)(s):"0x",n??"0x",o?(0,f.toHex)(o):"0x",u??"0x",h,...B(e,t)];return(0,p.concatHex)(["0x02",(0,m.toRlp)(d)])}(e,t):"eip2930"===s?function(e,t){let{chainId:r,gas:s,data:i,nonce:n,to:o,value:a,accessList:c,gasPrice:l}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:i,to:n}=e;if(t<=0)throw new C.InvalidChainIdError({chainId:t});if(n&&!(0,d.isAddress)(n))throw new h.InvalidAddressError({address:n});if(r||i)throw new T.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>E.maxUint256)throw new S.FeeCapTooHighError({maxFeePerGas:s})}(e);let u=N(c),y=[(0,f.toHex)(r),n?(0,f.toHex)(n):"0x",l?(0,f.toHex)(l):"0x",s?(0,f.toHex)(s):"0x",o??"0x",a?(0,f.toHex)(a):"0x",i??"0x",u,...B(e,t)];return(0,p.concatHex)(["0x01",(0,m.toRlp)(y)])}(e,t):"eip4844"===s?function(e,t){let{chainId:r,gas:s,nonce:i,to:n,value:a,maxFeePerBlobGas:c,maxFeePerGas:l,maxPriorityFeePerGas:u,accessList:h,data:d}=e;!function(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new k.EmptyBlobError;for(let e of t){let t=(0,A.size)(e),r=(0,o.hexToNumber)((0,O.slice)(e,0,1));if(32!==t)throw new k.InvalidVersionedHashSizeError({hash:e,size:t});if(r!==_.versionedHashVersionKzg)throw new k.InvalidVersionedHashVersionError({hash:e,version:r})}}R(e)}(e);let y=e.blobVersionedHashes,x=e.sidecars;if(e.blobs&&(void 0===y||void 0===x)){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,f.bytesToHex)(e)),r=e.kzg,s=(0,g.blobsToCommitments)({blobs:t,kzg:r});if(void 0===y&&(y=(0,b.commitmentsToVersionedHashes)({commitments:s})),void 0===x){let e=(0,v.blobsToProofs)({blobs:t,commitments:s,kzg:r});x=(0,w.toBlobSidecars)({blobs:t,commitments:s,proofs:e})}}let E=N(h),T=[(0,f.toHex)(r),i?(0,f.toHex)(i):"0x",u?(0,f.toHex)(u):"0x",l?(0,f.toHex)(l):"0x",s?(0,f.toHex)(s):"0x",n??"0x",a?(0,f.toHex)(a):"0x",d??"0x",E,c?(0,f.toHex)(c):"0x",y??[],...B(e,t)],C=[],S=[],P=[];if(x)for(let e=0;e<x.length;e++){let{blob:t,commitment:r,proof:s}=x[e];C.push(t),S.push(r),P.push(s)}return(0,p.concatHex)(["0x03",x?(0,m.toRlp)([T,C,S,P]):(0,m.toRlp)(T)])}(e,t):"eip7702"===s?function(e,t){let{authorizationList:r,chainId:s,gas:i,nonce:n,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:y}=e;!function(e){let{authorizationList:t}=e;if(t)for(let e of t){let{contractAddress:t,chainId:r}=e;if(!(0,d.isAddress)(t))throw new h.InvalidAddressError({address:t});if(r<0)throw new C.InvalidChainIdError({chainId:r})}R(e)}(e);let g=N(u),v=function(e){if(!e||0===e.length)return[];let t=[];for(let r of e){let{contractAddress:e,chainId:s,nonce:i,...n}=r;t.push([s?(0,f.toHex)(s):"0x",e,i?(0,f.toHex)(i):"0x",...B({},n)])}return t}(r);return(0,p.concatHex)(["0x04",(0,m.toRlp)([(0,f.toHex)(s),n?(0,f.toHex)(n):"0x",l?(0,f.toHex)(l):"0x",c?(0,f.toHex)(c):"0x",i?(0,f.toHex)(i):"0x",o??"0x",a?(0,f.toHex)(a):"0x",y??"0x",g,v,...B(e,t)])])}(e,t):function(e,t){let{chainId:r=0,gas:s,data:i,nonce:n,to:o,value:a,gasPrice:c}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:i,to:n}=e;if(n&&!(0,d.isAddress)(n))throw new h.InvalidAddressError({address:n});if(void 0!==t&&t<=0)throw new C.InvalidChainIdError({chainId:t});if(r||i)throw new T.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>E.maxUint256)throw new S.FeeCapTooHighError({maxFeePerGas:s})}(e);let l=[n?(0,f.toHex)(n):"0x",c?(0,f.toHex)(c):"0x",s?(0,f.toHex)(s):"0x",o??"0x",a?(0,f.toHex)(a):"0x",i??"0x"];if(t){let e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new y.InvalidLegacyVError({v:t.v});return e})(),s=(0,x.trim)(t.r),i=(0,x.trim)(t.s);l=[...l,(0,f.toHex)(e),"0x00"===s?"0x":s,"0x00"===i?"0x":i]}else r>0&&(l=[...l,(0,f.toHex)(r),"0x","0x"]);return(0,m.toRlp)(l)}(e,t)}}};var L=e.i(19152);let H=(0,L.defineChain)({...D,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...D.contracts,disputeGameFactory:{1:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{1:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{1:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:0x10ac19f}},l1StandardBridge:{1:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:0x10ac19f}}},sourceId:1}),I=(0,L.defineChain)({...D,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...D.contracts,disputeGameFactory:{0xaa36a7:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{0xaa36a7:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{0xaa36a7:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{0xaa36a7:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:0xaa36a7});var q=e.i(39509),j=e.i(31784),F=e.i(67026),M=e.i(6340),U=e.i(20946),K=class extends U.Subscribable{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){let s=t.queryKey,i=t.queryHash??(0,j.hashQueryKeyByOptions)(s,t),n=this.get(i);return n||(n=new F.Query({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(n)),n}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){M.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,j.matchQuery)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,j.matchQuery)(e,t)):t}notify(e){M.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){M.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){M.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Q=e.i(2685),V=U,W=class extends V.Subscribable{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#r=new Map,this.#s=0}#t;#r;#s;build(e,t,r){let s=new Q.Mutation({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){this.#t.add(e);let t=$(e);if("string"==typeof t){let r=this.#r.get(t);r?r.push(e):this.#r.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){let t=$(e);if("string"==typeof t){let r=this.#r.get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#r.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=$(e);if("string"!=typeof t)return!0;{let r=this.#r.get(t),s=r?.find(e=>"pending"===e.state.status);return!s||s===e}}runNext(e){let t=$(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#r.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){M.notifyManager.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#r.clear()})}getAll(){return Array.from(this.#t)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,j.matchMutation)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,j.matchMutation)(e,t))}notify(e){M.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return M.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(j.noop))))}};function $(e){return e.options.scope?.id}var z=e.i(95681),G=e.i(21932);function Y(e){return{onFetch:(t,r)=>{let s=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,n=t.state.data?.pages||[],o=t.state.data?.pageParams||[],a={pages:[],pageParams:[]},c=0,l=async()=>{let r=!1,l=(0,j.ensureQueryFn)(t.options,t.fetchOptions),u=async(e,s,i)=>{let n;if(r)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);let o=(n={client:t.client,queryKey:t.queryKey,pageParam:s,direction:i?"backward":"forward",meta:t.options.meta},(0,j.addConsumeAwareSignal)(n,()=>t.signal,()=>r=!0),n),a=await l(o),{maxPages:c}=t.options,u=i?j.addToStart:j.addToEnd;return{pages:u(e.pages,a,c),pageParams:u(e.pageParams,s,c)}};if(i&&n.length){let e="backward"===i,t={pages:n,pageParams:o},r=(e?function(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}:J)(s,t);a=await u(t,r,e)}else{let t=e??n.length;do{let e=0===c?o[0]??s.initialPageParam:J(s,a);if(c>0&&null==e)break;a=await u(a,e),c++}while(c<t)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=l}}}function J(e,{pages:t,pageParams:r}){let s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}var X=class{#i;#n;#o;#a;#c;#l;#u;#h;constructor(e={}){this.#i=e.queryCache||new K,this.#n=e.mutationCache||new W,this.#o=e.defaultOptions||{},this.#a=new Map,this.#c=new Map,this.#l=0}mount(){this.#l++,1===this.#l&&(this.#u=z.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#i.onFocus())}),this.#h=G.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#i.onOnline())}))}unmount(){this.#l--,0===this.#l&&(this.#u?.(),this.#u=void 0,this.#h?.(),this.#h=void 0)}isFetching(e){return this.#i.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#n.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#i.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#i.build(this,t),s=r.state.data;return void 0===s?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,j.resolveStaleTime)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#i.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let s=this.defaultQueryOptions({queryKey:e}),i=this.#i.get(s.queryHash),n=i?.state.data,o=(0,j.functionalUpdate)(t,n);if(void 0!==o)return this.#i.build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return M.notifyManager.batch(()=>this.#i.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#i.get(t.queryHash)?.state}removeQueries(e){let t=this.#i;M.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#i;return M.notifyManager.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(M.notifyManager.batch(()=>this.#i.findAll(e).map(e=>e.cancel(r)))).then(j.noop).catch(j.noop)}invalidateQueries(e,t={}){return M.notifyManager.batch(()=>(this.#i.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(M.notifyManager.batch(()=>this.#i.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(j.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(j.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#i.build(this,t);return r.isStaleByTime((0,j.resolveStaleTime)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(j.noop).catch(j.noop)}fetchInfiniteQuery(e){return e.behavior=Y(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(j.noop).catch(j.noop)}ensureInfiniteQueryData(e){return e.behavior=Y(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return G.onlineManager.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#i}getMutationCache(){return this.#n}getDefaultOptions(){return this.#o}setDefaultOptions(e){this.#o=e}setQueryDefaults(e,t){this.#a.set((0,j.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#a.values()],r={};return t.forEach(t=>{(0,j.partialMatchKey)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#c.set((0,j.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#c.values()],r={};return t.forEach(t=>{(0,j.partialMatchKey)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#o.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,j.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===j.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#o.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#i.clear(),this.#n.clear()}};let Z=(0,s.getDefaultConfig)({appName:"Zoid",projectId:"3fcc6b446fe38351502476b70f074213",chains:[H,I],ssr:!0}),ee=new X;function et({children:e}){let[o,a]=r.default.useState(!1);return(r.default.useEffect(()=>a(!0),[]),o)?(0,t.jsx)(n.WagmiProvider,{config:Z,children:(0,t.jsx)(q.QueryClientProvider,{client:ee,children:(0,t.jsx)(s.RainbowKitProvider,{modalSize:"compact",theme:(0,i.darkTheme)({accentColor:"#8b5cf6",accentColorForeground:"white",borderRadius:"large"}),children:e})})}):(0,t.jsx)("div",{style:{visibility:"hidden"},children:e})}e.s(["Web3Provider",()=>et],97638)},77754,e=>{"use strict";let t,r,s;var i,n,o=e.i(82577),a=e.i(13522);let c=Object.create(null);c.open="0",c.close="1",c.ping="2",c.pong="3",c.message="4",c.upgrade="5",c.noop="6";let l=Object.create(null);Object.keys(c).forEach(e=>{l[c[e]]=e});let u={type:"error",data:"parser error"},h="function"==typeof Blob||"u">typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),d="function"==typeof ArrayBuffer,p=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,f=({type:e,data:t},r,s)=>{if(h&&t instanceof Blob)if(r)return s(t);else return m(t,s);if(d&&(t instanceof ArrayBuffer||p(t)))if(r)return s(t);else return m(new Blob([t]),s);return s(c[e]+(t||""))},m=(e,t)=>{let r=new FileReader;return r.onload=function(){t("b"+(r.result.split(",")[1]||""))},r.readAsDataURL(e)};function y(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v="u"<typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<g.length;e++)v[g.charCodeAt(e)]=e;let b="function"==typeof ArrayBuffer,w=(e,t)=>{if("string"!=typeof e)return{type:"message",data:_(e,t)};let r=e.charAt(0);return"b"===r?{type:"message",data:x(e.substring(1),t)}:l[r]?e.length>1?{type:l[r],data:e.substring(1)}:{type:l[r]}:u},x=(e,t)=>b?_((e=>{let t=.75*e.length,r=e.length,s,i=0,n,o,a,c;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);let l=new ArrayBuffer(t),u=new Uint8Array(l);for(s=0;s<r;s+=4)n=v[e.charCodeAt(s)],o=v[e.charCodeAt(s+1)],a=v[e.charCodeAt(s+2)],c=v[e.charCodeAt(s+3)],u[i++]=n<<2|o>>4,u[i++]=(15&o)<<4|a>>2,u[i++]=(3&a)<<6|63&c;return l})(e),t):{base64:!0,data:e},_=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer;function E(e){return e.reduce((e,t)=>e+t.length,0)}function T(e,t){if(e[0].length===t)return e.shift();let r=new Uint8Array(t),s=0;for(let i=0;i<t;i++)r[i]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),r}function k(e){if(e){var t=e;for(var r in k.prototype)t[r]=k.prototype[r];return t}}k.prototype.on=k.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},k.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},k.prototype.off=k.prototype.removeListener=k.prototype.removeAllListeners=k.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<s.length;i++)if((r=s[i])===t||r.fn===t){s.splice(i,1);break}return 0===s.length&&delete this._callbacks["$"+e],this},k.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=Array(arguments.length-1),r=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,i=r.length;s<i;++s)r[s].apply(this,t)}return this},k.prototype.emitReserved=k.prototype.emit,k.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},k.prototype.hasListeners=function(e){return!!this.listeners(e).length};let C="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),S="u">typeof self?self:"u">typeof window?window:Function("return this")();function A(e,...t){return t.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})}let O=S.setTimeout,R=S.clearTimeout;function P(e,t){t.useNativeTimers?(e.setTimeoutFn=O.bind(S),e.clearTimeoutFn=R.bind(S)):(e.setTimeoutFn=S.setTimeout.bind(S),e.clearTimeoutFn=S.clearTimeout.bind(S))}function N(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class B extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class D extends k{constructor(e){super(),this.writable=!1,P(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new B(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=w(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return -1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&443!==Number(this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){let t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class L extends D{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)};((e,t)=>{let r=e.split("\x1e"),s=[];for(let e=0;e<r.length;e++){let i=w(r[e],t);if(s.push(i),"error"===i.type)break}return s})(e,this.socket.binaryType).forEach(t),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){var t;let r,s,i;this.writable=!1,t=e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})},s=Array(r=e.length),i=0,e.forEach((e,n)=>{f(e,!1,e=>{s[n]=e,++i===r&&t(s.join("\x1e"))})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=N()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let H=!1;try{H="u">typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}let I=H;function q(){}class j extends L{constructor(e){if(super(e),"u">typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="u">typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class F extends k{constructor(e,t,r){super(),this.createRequest=e,P(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;let t=A(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders)for(let e in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}catch(e){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{r.setRequestHeader("Accept","*/*")}catch(e){}null==(e=this._opts.cookieJar)||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null==(e=this._opts.cookieJar)||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof r.status?r.status:0)},0))},r.send(this._data)}catch(e){this.setTimeoutFn(()=>{this._onError(e)},0);return}"u">typeof document&&(this._index=F.requestsCount++,F.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=q,e)try{this._xhr.abort()}catch(e){}"u">typeof document&&delete F.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}function M(){for(let e in F.requests)F.requests.hasOwnProperty(e)&&F.requests[e].abort()}F.requestsCount=0,F.requests={},"u">typeof document&&("function"==typeof attachEvent?attachEvent("onunload",M):"function"==typeof addEventListener&&addEventListener("onpagehide"in S?"pagehide":"unload",M,!1));let U=(s=K({xdomain:!1}))&&null!==s.responseType;function K(e){let t=e.xdomain;try{if("u">typeof XMLHttpRequest&&(!t||I))return new XMLHttpRequest}catch(e){}if(!t)try{return new S[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(e){}}let Q="u">typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class V extends D{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=Q?{}:A(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],s=t===e.length-1;f(r,this.supportsBinary,e=>{try{this.doWrite(r,e)}catch(e){}s&&C(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=N()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}let W=S.WebSocket||S.MozWebSocket,$={websocket:class extends V{createSocket(e,t,r){return Q?new W(e,t,r):t?new W(e,t):new W(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends D{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{var s,i;let n,o,a,c,l=(s=Number.MAX_SAFE_INTEGER,i=this.socket.binaryType,r||(r=new TextDecoder),n=[],o=0,a=-1,c=!1,new TransformStream({transform(e,t){for(n.push(e);;){if(0===o){if(1>E(n))break;let e=T(n,1);c=(128&e[0])==128,o=(a=127&e[0])<126?3:126===a?1:2}else if(1===o){if(2>E(n))break;let e=T(n,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),o=3}else if(2===o){if(8>E(n))break;let e=T(n,8),r=new DataView(e.buffer,e.byteOffset,e.length),s=r.getUint32(0);if(s>2097151){t.enqueue(u);break}a=0x100000000*s+r.getUint32(4),o=3}else{if(E(n)<a)break;let e=T(n,a);t.enqueue(w(c?e:r.decode(e),i)),o=0}if(0===a||a>s){t.enqueue(u);break}}}})),m=e.readable.pipeThrough(l).getReader(),g=new TransformStream({transform(e,r){var s;s=t=>{let s,i=t.length;if(i<126)new DataView((s=new Uint8Array(1)).buffer).setUint8(0,i);else if(i<65536){let e=new DataView((s=new Uint8Array(3)).buffer);e.setUint8(0,126),e.setUint16(1,i)}else{let e=new DataView((s=new Uint8Array(9)).buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(i))}e.data&&"string"!=typeof e.data&&(s[0]|=128),r.enqueue(s),r.enqueue(t)},h&&e.data instanceof Blob?e.data.arrayBuffer().then(y).then(s):d&&(e.data instanceof ArrayBuffer||p(e.data))?s(y(e.data)):f(e,!1,e=>{t||(t=new TextEncoder),s(t.encode(e))})}});g.readable.pipeTo(e.writable),this._writer=g.writable.getWriter();let v=()=>{m.read().then(({done:e,value:t})=>{e||(this.onPacket(t),v())}).catch(e=>{})};v();let b={type:"open"};this.query.sid&&(b.data=`{"sid":"${this.query.sid}"}`),this._writer.write(b).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],s=t===e.length-1;this._writer.write(r).then(()=>{s&&C(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null==(e=this._transport)||e.close()}},polling:class extends j{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=U&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new F(K,this.uri(),e)}}},z=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,G=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Y(e){var t,r;let s,i;if(e.length>8e3)throw"URI too long";let n=e,o=e.indexOf("["),a=e.indexOf("]");-1!=o&&-1!=a&&(e=e.substring(0,o)+e.substring(o,a).replace(/:/g,";")+e.substring(a,e.length));let c=z.exec(e||""),l={},u=14;for(;u--;)l[G[u]]=c[u]||"";return -1!=o&&-1!=a&&(l.source=n,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),s=(t=l.path).replace(/\/{2,9}/g,"/").split("/"),("/"==t.slice(0,1)||0===t.length)&&s.splice(0,1),"/"==t.slice(-1)&&s.splice(s.length-1,1),l.pathNames=s,r=l.query,i={},r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(i[t]=r)}),l.queryKey=i,l}let J="function"==typeof addEventListener&&"function"==typeof removeEventListener,X=[];J&&addEventListener("offline",()=>{X.forEach(e=>e())},!1);class Z extends k{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){const r=Y(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Y(t.host).host);P(this,t),this.secure=null!=t.secure?t.secure:"u">typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("u">typeof location?location.hostname:"localhost"),this.port=t.port||("u">typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{let t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let e=0,s=r.length;e<s;e++){let s=r[e].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}(this.opts.query)),J&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},X.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);let r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);let e=this.opts.rememberUpgrade&&Z.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";let t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Z.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let t=Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){let r=this.writeBuffer[t].data;if(r&&(e+="string"==typeof r?function(e){let t=0,r=0;for(let s=0,i=e.length;s<i;s++)(t=e.charCodeAt(s))<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(s++,r+=4);return r}(r):Math.ceil(1.33*(r.byteLength||r.size))),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,C(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof r&&(s=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;let i={type:e,data:t,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Z.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),J&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let e=X.indexOf(this._offlineEventListener);-1!==e&&X.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Z.protocol=4;class ee extends Z{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Z.priorWebsocketSuccess=!1;let s=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Z.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let e=Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function i(){r||(r=!0,l(),t.close(),t=null)}let n=e=>{let r=Error("probe error: "+e);r.transport=t.name,i(),this.emitReserved("upgradeError",r)};function o(){n("transport closed")}function a(){n("socket closed")}function c(e){t&&e.name!==t.name&&i()}let l=()=>{t.removeListener("open",s),t.removeListener("error",n),t.removeListener("close",o),this.off("close",a),this.off("upgrading",c)};t.once("open",s),t.once("error",n),t.once("close",o),this.once("close",a),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class et extends ee{constructor(e,t={}){const r="object"==typeof e?e:t;(!r.transports||r.transports&&"string"==typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(e=>$[e]).filter(e=>!!e)),super(e,r)}}et.protocol;let er="function"==typeof ArrayBuffer,es=Object.prototype.toString,ei="function"==typeof Blob||"u">typeof Blob&&"[object BlobConstructor]"===es.call(Blob),en="function"==typeof File||"u">typeof File&&"[object FileConstructor]"===es.call(File);function eo(e){return er&&(e instanceof ArrayBuffer||("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer))||ei&&e instanceof Blob||en&&e instanceof File}let ea=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];(i=n||(n={}))[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK";class ec{constructor(e){this.replacer=e}encode(e){return(e.type===n.EVENT||e.type===n.ACK)&&function e(t,r){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let r=0,s=t.length;r<s;r++)if(e(t[r]))return!0;return!1}if(eo(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1==arguments.length)return e(t.toJSON(),!0);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}(e)?this.encodeAsBinary({type:e.type===n.EVENT?n.BINARY_EVENT:n.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===n.BINARY_EVENT||e.type===n.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t,r,s=(t=[],r=e.data,e.data=function e(t,r){if(!t)return t;if(eo(t)){let e={_placeholder:!0,num:r.length};return r.push(t),e}if(Array.isArray(t)){let s=Array(t.length);for(let i=0;i<t.length;i++)s[i]=e(t[i],r);return s}if("object"==typeof t&&!(t instanceof Date)){let s={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e(t[i],r));return s}return t}(r,t),e.attachments=t.length,{packet:e,buffers:t}),i=this.encodeAsString(s.packet),n=s.buffers;return n.unshift(i),n}}class el extends k{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw Error("got plaintext data when reconstructing a packet");let r=(t=this.decodeString(e)).type===n.BINARY_EVENT;r||t.type===n.BINARY_ACK?(t.type=r?n.EVENT:n.ACK,this.reconstructor=new eu(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(eo(e)||e.base64)if(this.reconstructor)(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(void 0===n[r.type])throw Error("unknown packet type "+r.type);if(r.type===n.BINARY_EVENT||r.type===n.BINARY_ACK){let s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);let i=e.substring(s,t);if(i!=Number(i)||"-"!==e.charAt(t))throw Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){let s=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(s,t)}else r.nsp="/";let s=e.charAt(t+1);if(""!==s&&Number(s)==s){let s=t+1;for(;++t;){let r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){let s=this.tryParse(e.substr(t));if(el.isPayloadValid(r.type,s))r.data=s;else throw Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case n.CONNECT:return ed(t);case n.DISCONNECT:return void 0===t;case n.CONNECT_ERROR:return"string"==typeof t||ed(t);case n.EVENT:case n.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===ea.indexOf(t[0]));case n.ACK:case n.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class eu{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t,r;let e=(t=this.reconPack,r=this.buffers,t.data=function e(t,r){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<r.length)return r[t.num];throw Error("illegal attachments")}if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=e(t[s],r);else if("object"==typeof t)for(let s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=e(t[s],r));return t}(t.data,r),delete t.attachments,t);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}let eh=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function ed(e){return"[object Object]"===Object.prototype.toString.call(e)}function ep(e){var t;return"string"==typeof e.nsp&&(void 0===(t=e.id)||eh(t))&&function(e,t){switch(e){case n.CONNECT:return void 0===t||ed(t);case n.DISCONNECT:return void 0===t;case n.EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===ea.indexOf(t[0]));case n.ACK:return Array.isArray(t);case n.CONNECT_ERROR:return"string"==typeof t||ed(t);default:return!1}}(e.type,e.data)}function ef(e,t,r){return e.on(t,r),function(){e.off(t,r)}}e.s(["Decoder",()=>el,"Encoder",()=>ec,"PacketType",()=>n,"isPacketValid",()=>ep,"protocol",0,5],56370);let em=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ey extends k{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[ef(e,"open",this.onopen.bind(this)),ef(e,"packet",this.onpacket.bind(this)),ef(e,"error",this.onerror.bind(this)),ef(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,s,i;if(em.hasOwnProperty(e))throw Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let o={type:n.EVENT,data:t};if(o.options={},o.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){let e=this.ids++,r=t.pop();this._registerAckCallback(e,r),o.id=e}let a=null==(s=null==(r=this.io.engine)?void 0:r.transport)?void 0:s.writable,c=this.connected&&!(null==(i=this.io.engine)?void 0:i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r;let s=null!=(r=this.flags.timeout)?r:this._opts.ackTimeout;if(void 0===s){this.acks[e]=t;return}let i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,Error("operation has timed out"))},s),n=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,e)};n.withError=!0,this.acks[e]=n}emitWithAck(e,...t){return new Promise((r,s)=>{let i=(e,t)=>e?s(e):r(t);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...s)=>(this._queue[0],null!==e?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;let t=this._queue[0];(!t.pending||e)&&(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:n.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){let t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case n.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.CONNECT_ERROR:this.destroy();let t=Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){let t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length)for(let t of this._anyListeners.slice())t.apply(this,e);super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...s){r||(r=!0,t.packet({type:n.ACK,id:e,data:s}))}}onack(e){let t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:n.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r]){t.splice(r,1);break}}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r]){t.splice(r,1);break}}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length)for(let t of this._anyOutgoingListeners.slice())t.apply(this,e.data)}}var eg=e.i(56370);function ev(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ev.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(1&Math.floor(10*t))==0?e-r:e+r}return 0|Math.min(e,this.max)},ev.prototype.reset=function(){this.attempts=0},ev.prototype.setMin=function(e){this.ms=e},ev.prototype.setMax=function(e){this.max=e},ev.prototype.setJitter=function(e){this.jitter=e};class eb extends k{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,P(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!=(r=t.randomizationFactor)?r:.5),this.backoff=new ev({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||eg;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null==(t=this.backoff)||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null==(t=this.backoff)||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null==(t=this.backoff)||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new et(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let s=ef(t,"open",function(){r.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},n=ef(t,"error",i);if(!1!==this._timeout){let e=this._timeout,r=this.setTimeoutFn(()=>{s(),i(Error("timeout")),t.close()},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}return this.subs.push(s),this.subs.push(n),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(ef(e,"ping",this.onping.bind(this)),ef(e,"data",this.ondata.bind(this)),ef(e,"error",this.onerror.bind(this)),ef(e,"close",this.onclose.bind(this)),ef(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){C(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new ey(this,e,t),this.nsps[e]=r),r}_destroy(e){for(let e of Object.keys(this.nsps))if(this.nsps[e].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null==(r=this.engine)||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}let ew={};function ex(e,t){let r;"object"==typeof e&&(t=e,e=void 0);let s=function(e,t="",r){let s=e;r=r||"u">typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==r?r.protocol+"//"+e:"https://"+e),s=Y(e)),!s.port&&(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";let i=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+t,s.href=s.protocol+"://"+i+(r&&r.port===s.port?"":":"+s.port),s}(e,(t=t||{}).path||"/socket.io"),i=s.source,n=s.id,o=s.path,a=ew[n]&&o in ew[n].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?r=new eb(i,t):(ew[n]||(ew[n]=new eb(i,t)),r=ew[n]),s.query&&!t.query&&(t.query=s.queryKey),r.socket(s.path,t)}Object.assign(ex,{Manager:eb,Socket:ey,io:ex,connect:ex});let e_=(0,a.createContext)({socket:null,isConnected:!1,signals:null,allTrades:[],prices:{},lastUpdate:null,error:null});function eE(){return(0,a.useContext)(e_)}function eT({children:e}){let[t,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!1),[n,c]=(0,a.useState)(null),[l,u]=(0,a.useState)([]),[h,d]=(0,a.useState)({}),[p,f]=(0,a.useState)(null),[m,y]=(0,a.useState)(null),g=(0,a.useRef)(new Set),v=(0,a.useCallback)(e=>{let t=[];if(!e)return t;if(e.shortHunter?.active_trades&&"object"==typeof e.shortHunter.active_trades){let r=e.shortHunter.active_trades;r&&Object.keys(r).length>0&&Object.entries(r).forEach(([e,r])=>{if(!r||!r.entry_price)return;let s=(r.symbol||e||"UNKNOWN").replace("USDT",""),i=`sh-${s}-${r.signal_time||Date.now()}`;g.current.has(i)||(g.current.add(i),t.push({id:i,symbol:s+"/USDT",entry_price:r.entry_price,stop_loss:r.stop_loss,take_profit:r.take_profit,entry_time:r.signal_time||new Date().toISOString(),side:"SHORT",reasons:r.reasons||[],status:r.status?.toLowerCase()||"active",source:"shortHunter"}))})}e.shortHunter?.signals&&Array.isArray(e.shortHunter.signals)&&e.shortHunter.signals.length>0&&e.shortHunter.signals.forEach((e,r)=>{if(!e||!e.entry_price)return;let s=(e.symbol||"UNKNOWN").replace("USDT",""),i=`sh-scan-${s}-${e.timestamp||Date.now()}-${r}`;g.current.has(i)||(g.current.add(i),t.push({id:i,symbol:s+"/USDT",entry_price:e.entry_price,stop_loss:e.stop_loss,take_profit:e.take_profit,entry_time:e.timestamp||new Date().toISOString(),side:"SHORT",reasons:e.reasons||[],status:"scanning",source:"shortHunter"}))});let r=e.bountySeeker,s=r?.open_trades||r?.signals||[];return Array.isArray(s)&&s.length>0&&s.forEach((e,r)=>{if(!e||!e.entry_price)return;let s=(e.symbol||"UNKNOWN/USDT").split("/")[0]+"/USDT",i=`bs-${s}-${e.entry_time||e.timestamp||Date.now()}-${r}`;g.current.has(i)||(g.current.add(i),t.push({id:i,symbol:s,entry_price:e.entry_price,stop_loss:e.stop_loss,take_profit:e.take_profit||e.take_profit_1,entry_time:e.entry_time||e.timestamp||new Date().toISOString(),side:(e.direction||e.side||"LONG").toUpperCase(),reasons:e.reasons||[],status:e.status?.toLowerCase()||"active",source:"bountySeeker"}))}),t},[]),b=(0,a.useCallback)(async()=>{try{let e={};for(let t of["BTCUSDT","ETHUSDT","SOLUSDT","DOGEUSDT"])try{let r=new AbortController,s=setTimeout(()=>r.abort(),3e3),i=await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${t}`,{signal:r.signal});if(clearTimeout(s),i.ok){let r=await i.json();r?.price&&(e[t.replace("USDT","")]=parseFloat(r.price))}}catch(e){}Object.keys(e).length>0&&d(t=>({...t,...e}))}catch(e){console.log("Price fetch error")}},[]);return(0,a.useEffect)(()=>{let e=ex("http://localhost:3001",{transports:["polling","websocket"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,timeout:1e4});return e.on("connect",()=>{console.log(" WebSocket Provider connected"),i(!0),y(null)}),e.on("disconnect",()=>{console.log(" WebSocket Provider disconnected"),i(!1)}),e.on("state-update",e=>{if(console.log(" WebSocket Provider received data:",e),!e||"object"!=typeof e)return void console.error("Invalid data received");c(e),f(new Date().toISOString());let t=v(e);t.length>0&&u(e=>{let r=new Set(e.map(e=>e.id));return[...t.filter(e=>!r.has(e.id)),...e]})}),e.on("connect_error",e=>{console.error(" WebSocket connection error:",e.message),console.error("Error details:",e),y(`Connection failed: ${e.message}`)}),e.on("error",e=>{console.error(" WebSocket error:",e)}),r(e),()=>{e.close()}},[v]),(0,a.useEffect)(()=>{b();let e=setInterval(b,5e3);return()=>clearInterval(e)},[b]),(0,o.jsx)(e_.Provider,{value:{socket:t,isConnected:s,signals:n,allTrades:l,prices:h,lastUpdate:p,error:m},children:e})}e.s(["WebSocketProvider",()=>eT,"useWebSocket",()=>eE],77754)}]);